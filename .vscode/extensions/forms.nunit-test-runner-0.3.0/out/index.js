/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={8185:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;const n=r(7147);e.FILE_SYSTEM_ADAPTER={lstat:n.lstat,stat:n.stat,lstatSync:n.lstatSync,statSync:n.statSync,readdir:n.readdir,readdirSync:n.readdirSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}},1107:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const r=process.versions.node.split(".");if(void 0===r[0]||void 0===r[1])throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const n=Number.parseInt(r[0],10),o=Number.parseInt(r[1],10),i=n>10,s=10===n&&o>=10;e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=i||s},5923:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.scandirSync=e.scandir=void 0;const n=r(1411),o=r(3953),i=r(6913);function s(t={}){return t instanceof i.default?t:new i.default(t)}e.Settings=i.default,e.scandir=function(t,e,r){"function"!=typeof e?n.read(t,s(e),r):n.read(t,s(),e)},e.scandirSync=function(t,e){const r=s(e);return o.read(t,r)}},1411:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;const n=r(6203),o=r(4595),i=r(1107),s=r(6582),a=r(4587);function u(t,e,r){e.fs.readdir(t,{withFileTypes:!0},((n,i)=>{if(null!==n)return void l(r,n);const u=i.map((r=>({dirent:r,name:r.name,path:a.joinPathSegments(t,r.name,e.pathSegmentSeparator)})));if(!e.followSymbolicLinks)return void f(r,u);const c=u.map((t=>function(t,e){return r=>{t.dirent.isSymbolicLink()?e.fs.stat(t.path,((n,o)=>{if(null!==n)return e.throwErrorOnBrokenSymbolicLink?void r(n):void r(null,t);t.dirent=s.fs.createDirentFromStats(t.name,o),r(null,t)})):r(null,t)}}(t,e)));o(c,((t,e)=>{null===t?f(r,e):l(r,t)}))}))}function c(t,e,r){e.fs.readdir(t,((i,u)=>{if(null!==i)return void l(r,i);const c=u.map((r=>{const o=a.joinPathSegments(t,r,e.pathSegmentSeparator);return t=>{n.stat(o,e.fsStatSettings,((n,i)=>{if(null!==n)return void t(n);const a={name:r,path:o,dirent:s.fs.createDirentFromStats(r,i)};e.stats&&(a.stats=i),t(null,a)}))}}));o(c,((t,e)=>{null===t?f(r,e):l(r,t)}))}))}function l(t,e){t(e)}function f(t,e){t(null,e)}e.read=function(t,e,r){e.stats||!i.IS_SUPPORT_READDIR_WITH_FILE_TYPES?c(t,e,r):u(t,e,r)},e.readdirWithFileTypes=u,e.readdir=c},4587:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=void 0,e.joinPathSegments=function(t,e,r){return t.endsWith(r)?t+e:t+r+e}},3953:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;const n=r(6203),o=r(1107),i=r(6582),s=r(4587);function a(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map((r=>{const n={dirent:r,name:r.name,path:s.joinPathSegments(t,r.name,e.pathSegmentSeparator)};if(n.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{const t=e.fs.statSync(n.path);n.dirent=i.fs.createDirentFromStats(n.name,t)}catch(t){if(e.throwErrorOnBrokenSymbolicLink)throw t}return n}))}function u(t,e){return e.fs.readdirSync(t).map((r=>{const o=s.joinPathSegments(t,r,e.pathSegmentSeparator),a=n.statSync(o,e.fsStatSettings),u={name:r,path:o,dirent:i.fs.createDirentFromStats(r,a)};return e.stats&&(u.stats=a),u}))}e.read=function(t,e){return!e.stats&&o.IS_SUPPORT_READDIR_WITH_FILE_TYPES?a(t,e):u(t,e)},e.readdirWithFileTypes=a,e.readdir=u},6913:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1017),o=r(6203),i=r(8185);e.default=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=i.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new o.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}}},322:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;class r{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}e.createDirentFromStats=function(t,e){return new r(t,e)}},6582:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fs=void 0;const n=r(322);e.fs=n},8980:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;const n=r(7147);e.FILE_SYSTEM_ADAPTER={lstat:n.lstat,stat:n.stat,lstatSync:n.lstatSync,statSync:n.statSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}},6203:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statSync=e.stat=e.Settings=void 0;const n=r(2654),o=r(8946),i=r(8328);function s(t={}){return t instanceof i.default?t:new i.default(t)}e.Settings=i.default,e.stat=function(t,e,r){"function"!=typeof e?n.read(t,s(e),r):n.read(t,s(),e)},e.statSync=function(t,e){const r=s(e);return o.read(t,r)}},2654:(t,e)=>{"use strict";function r(t,e){t(e)}function n(t,e){t(null,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0,e.read=function(t,e,o){e.fs.lstat(t,((i,s)=>{null===i?s.isSymbolicLink()&&e.followSymbolicLink?e.fs.stat(t,((t,i)=>{if(null!==t)return e.throwErrorOnBrokenSymbolicLink?void r(o,t):void n(o,s);e.markSymbolicLink&&(i.isSymbolicLink=()=>!0),n(o,i)})):n(o,s):r(o,i)}))}},8946:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0,e.read=function(t,e){const r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{const r=e.fs.statSync(t);return e.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(t){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw t}}},8328:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(8980);e.default=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=n.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,e){return null!=t?t:e}}},5439:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.walkStream=e.walkSync=e.walk=void 0;const n=r(9346),o=r(215),i=r(4078),s=r(8690);function a(t={}){return t instanceof s.default?t:new s.default(t)}e.Settings=s.default,e.walk=function(t,e,r){"function"!=typeof e?new n.default(t,a(e)).read(r):new n.default(t,a()).read(e)},e.walkSync=function(t,e){const r=a(e);return new i.default(t,r).read()},e.walkStream=function(t,e){const r=a(e);return new o.default(t,r).read()}},9346:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4714);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new n.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError((e=>{!function(t,e){t(e)}(t,e)})),this._reader.onEntry((t=>{this._storage.push(t)})),this._reader.onEnd((()=>{!function(t,e){t(null,e)}(t,this._storage)})),this._reader.read()}}},215:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(2781),o=r(4714);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new o.default(this._root,this._settings),this._stream=new n.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((t=>{this._stream.emit("error",t)})),this._reader.onEntry((t=>{this._stream.push(t)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}}},4078:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(9555);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new n.default(this._root,this._settings)}read(){return this._reader.read()}}},4714:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(2361),o=r(5923),i=r(373),s=r(6865),a=r(5274);class u extends a.default{constructor(t,e){super(t,e),this._settings=e,this._scandir=o.scandir,this._emitter=new n.EventEmitter,this._queue=i(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,e){const r={directory:t,base:e};this._queue.push(r,(t=>{null!==t&&this._handleError(t)}))}_worker(t,e){this._scandir(t.directory,this._settings.fsScandirSettings,((r,n)=>{if(null===r){for(const e of n)this._handleEntry(e,t.base);e(null,void 0)}else e(r,void 0)}))}_handleError(t){!this._isDestroyed&&s.isFatalError(this._settings,t)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,e){if(this._isDestroyed||this._isFatalError)return;const r=t.path;void 0!==e&&(t.path=s.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),s.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&s.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,void 0===e?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}}e.default=u},6865:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=e.replacePathSegmentSeparator=e.isAppliedFilter=e.isFatalError=void 0,e.isFatalError=function(t,e){return null===t.errorFilter||!t.errorFilter(e)},e.isAppliedFilter=function(t,e){return null===t||t(e)},e.replacePathSegmentSeparator=function(t,e){return t.split(/[/\\]/).join(e)},e.joinPathSegments=function(t,e,r){return""===t?e:t.endsWith(r)?t+e:t+r+e}},5274:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(6865);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._root=n.replacePathSegmentSeparator(t,e.pathSegmentSeparator)}}},9555:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(5923),o=r(6865),i=r(5274);class s extends i.default{constructor(){super(...arguments),this._scandir=n.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(const t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{const r=this._scandir(t,this._settings.fsScandirSettings);for(const t of r)this._handleEntry(t,e)}catch(t){this._handleError(t)}}_handleError(t){if(o.isFatalError(this._settings,t))throw t}_handleEntry(t,e){const r=t.path;void 0!==e&&(t.path=o.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),o.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&o.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,void 0===e?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}}e.default=s},8690:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1017),o=r(5923);e.default=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.fsScandirSettings=new o.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}}},3367:(t,e,r)=>{var n,o;void 0===(o="function"==typeof(n=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=o(t);if(e){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=c(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},l.apply(this,arguments)}var f=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e,r){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:r})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var r=this.listeners[t],n=0,o=r.length;n<o;n++)if(r[n].callback===e)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),r=0,n=e.length;r<n;r++){var o=e[r];try{o.callback.call(this,t)}catch(t){Promise.resolve().then((function(){throw t}))}o.options&&o.options.once&&this.removeEventListener(t.type,o.callback)}return!t.defaultPrevented}}}]),e}(),p=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(a,e);var r=u(a);function a(){var e;return t(this,a),(e=r.call(this)).listeners||f.call(s(e)),Object.defineProperty(s(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(e),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(s(e),"reason",{value:void 0,writable:!0,configurable:!0}),e}return n(a,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),l(o(a.prototype),"dispatchEvent",this).call(this,t)}}]),a}(f),h=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new p,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(t){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}var r=t;if(void 0===r)if("undefined"==typeof document)(r=new Error("This operation was aborted")).name="AbortError";else try{r=new DOMException("signal is aborted without reason")}catch(t){(r=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=r,this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();function d(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(h.prototype[Symbol.toStringTag]="AbortController",p.prototype[Symbol.toStringTag]="AbortSignal"),function(t){if(d(t))if(t.fetch){var e=function(t){"function"==typeof t&&(t={fetch:t});var e=t,r=e.fetch,n=e.Request,o=void 0===n?r.Request:n,i=e.AbortController,s=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,a=void 0!==s&&s;if(!d({fetch:r,Request:o,AbortController:i,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:r,Request:u};var u=o;(u&&!u.prototype.hasOwnProperty("signal")||a)&&((u=function(t,e){var r;e&&e.signal&&(r=e.signal,delete e.signal);var n=new o(t,e);return r&&Object.defineProperty(n,"signal",{writable:!1,enumerable:!1,configurable:!0,value:r}),n}).prototype=o.prototype);var c=r;return{fetch:function(t,e){var r=u&&u.prototype.isPrototypeOf(t)?t.signal:e?e.signal:void 0;if(r){var n;try{n=new DOMException("Aborted","AbortError")}catch(t){(n=new Error("Aborted")).name="AbortError"}if(r.aborted)return Promise.reject(n);var o=new Promise((function(t,e){r.addEventListener("abort",(function(){return e(n)}),{once:!0})}));return e&&e.signal&&delete e.signal,Promise.race([o,c(t,e)])}return c(t,e)},Request:u}}(t),r=e.fetch,n=e.Request;t.fetch=r,t.Request=n,Object.defineProperty(t,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:h}),Object.defineProperty(t,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:p})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!=typeof self?self:r.g)})?n.call(e,r,e,t):n)||(t.exports=o)},6744:(t,e,r)=>{"use strict";const n=r(3349),o=r(7529),i=r(8050),s=r(4339),a=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let t=a.create(n,e);Array.isArray(t)?r.push(...t):r.push(t)}else r=[].concat(a.create(t,e));return e&&!0===e.expand&&!0===e.nodupes&&(r=[...new Set(r)]),r};a.parse=(t,e={})=>s(t,e),a.stringify=(t,e={})=>n("string"==typeof t?a.parse(t,e):t,e),a.compile=(t,e={})=>("string"==typeof t&&(t=a.parse(t,e)),o(t,e)),a.expand=(t,e={})=>{"string"==typeof t&&(t=a.parse(t,e));let r=i(t,e);return!0===e.noempty&&(r=r.filter(Boolean)),!0===e.nodupes&&(r=[...new Set(r)]),r},a.create=(t,e={})=>""===t||t.length<3?[t]:!0!==e.expand?a.compile(t,e):a.expand(t,e),t.exports=a},7529:(t,e,r)=>{"use strict";const n=r(2664),o=r(3083);t.exports=(t,e={})=>{let r=(t,i={})=>{let s=o.isInvalidBrace(i),a=!0===t.invalid&&!0===e.escapeInvalid,u=!0===s||!0===a,c=!0===e.escapeInvalid?"\\":"",l="";if(!0===t.isOpen)return c+t.value;if(!0===t.isClose)return c+t.value;if("open"===t.type)return u?c+t.value:"(";if("close"===t.type)return u?c+t.value:")";if("comma"===t.type)return"comma"===t.prev.type?"":u?t.value:"|";if(t.value)return t.value;if(t.nodes&&t.ranges>0){let r=o.reduce(t.nodes),i=n(...r,{...e,wrap:!1,toRegex:!0});if(0!==i.length)return r.length>1&&i.length>1?`(${i})`:i}if(t.nodes)for(let e of t.nodes)l+=r(e,t);return l};return r(t)}},6611:t=>{"use strict";t.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},8050:(t,e,r)=>{"use strict";const n=r(2664),o=r(3349),i=r(3083),s=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),!(e=[].concat(e)).length)return t;if(!t.length)return r?i.flatten(e).map((t=>`{${t}}`)):e;for(let o of t)if(Array.isArray(o))for(let t of o)n.push(s(t,e,r));else for(let t of e)!0===r&&"string"==typeof t&&(t=`{${t}}`),n.push(Array.isArray(t)?s(o,t,r):o+t);return i.flatten(n)};t.exports=(t,e={})=>{let r=void 0===e.rangeLimit?1e3:e.rangeLimit,a=(t,u={})=>{t.queue=[];let c=u,l=u.queue;for(;"brace"!==c.type&&"root"!==c.type&&c.parent;)c=c.parent,l=c.queue;if(t.invalid||t.dollar)return void l.push(s(l.pop(),o(t,e)));if("brace"===t.type&&!0!==t.invalid&&2===t.nodes.length)return void l.push(s(l.pop(),["{}"]));if(t.nodes&&t.ranges>0){let a=i.reduce(t.nodes);if(i.exceedsLimit(...a,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let u=n(...a,e);return 0===u.length&&(u=o(t,e)),l.push(s(l.pop(),u)),void(t.nodes=[])}let f=i.encloseBrace(t),p=t.queue,h=t;for(;"brace"!==h.type&&"root"!==h.type&&h.parent;)h=h.parent,p=h.queue;for(let e=0;e<t.nodes.length;e++){let r=t.nodes[e];"comma"!==r.type||"brace"!==t.type?"close"!==r.type?r.value&&"open"!==r.type?p.push(s(p.pop(),r.value)):r.nodes&&a(r,t):l.push(s(l.pop(),p,f)):(1===e&&p.push(""),p.push(""))}return p};return i.flatten(a(t))}},4339:(t,e,r)=>{"use strict";const n=r(3349),{MAX_LENGTH:o,CHAR_BACKSLASH:i,CHAR_BACKTICK:s,CHAR_COMMA:a,CHAR_DOT:u,CHAR_LEFT_PARENTHESES:c,CHAR_RIGHT_PARENTHESES:l,CHAR_LEFT_CURLY_BRACE:f,CHAR_RIGHT_CURLY_BRACE:p,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_RIGHT_SQUARE_BRACKET:d,CHAR_DOUBLE_QUOTE:y,CHAR_SINGLE_QUOTE:v,CHAR_NO_BREAK_SPACE:g,CHAR_ZERO_WIDTH_NOBREAK_SPACE:m}=r(6611);t.exports=(t,e={})=>{if("string"!=typeof t)throw new TypeError("Expected a string");let r=e||{},b="number"==typeof r.maxLength?Math.min(o,r.maxLength):o;if(t.length>b)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${b})`);let w,_={type:"root",input:t,nodes:[]},E=[_],S=_,x=_,A=0,O=t.length,T=0,P=0;const R=()=>t[T++],k=t=>{if("text"===t.type&&"dot"===x.type&&(x.type="text"),!x||"text"!==x.type||"text"!==t.type)return S.nodes.push(t),t.parent=S,t.prev=x,x=t,t;x.value+=t.value};for(k({type:"bos"});T<O;)if(S=E[E.length-1],w=R(),w!==m&&w!==g)if(w!==i)if(w!==d)if(w!==h)if(w!==c)if(w!==l)if(w!==y&&w!==v&&w!==s)if(w!==f)if(w!==p)if(w===a&&P>0){if(S.ranges>0){S.ranges=0;let t=S.nodes.shift();S.nodes=[t,{type:"text",value:n(S)}]}k({type:"comma",value:w}),S.commas++}else if(w===u&&P>0&&0===S.commas){let t=S.nodes;if(0===P||0===t.length){k({type:"text",value:w});continue}if("dot"===x.type){if(S.range=[],x.value+=w,x.type="range",3!==S.nodes.length&&5!==S.nodes.length){S.invalid=!0,S.ranges=0,x.type="text";continue}S.ranges++,S.args=[];continue}if("range"===x.type){t.pop();let e=t[t.length-1];e.value+=x.value+w,x=e,S.ranges--;continue}k({type:"dot",value:w})}else k({type:"text",value:w});else{if("brace"!==S.type){k({type:"text",value:w});continue}let t="close";S=E.pop(),S.close=!0,k({type:t,value:w}),P--,S=E[E.length-1]}else{P++;let t=x.value&&"$"===x.value.slice(-1)||!0===S.dollar;S=k({type:"brace",open:!0,close:!1,dollar:t,depth:P,commas:0,ranges:0,nodes:[]}),E.push(S),k({type:"open",value:w})}else{let t,r=w;for(!0!==e.keepQuotes&&(w="");T<O&&(t=R());)if(t!==i){if(t===r){!0===e.keepQuotes&&(w+=t);break}w+=t}else w+=t+R();k({type:"text",value:w})}else{if("paren"!==S.type){k({type:"text",value:w});continue}S=E.pop(),k({type:"text",value:w}),S=E[E.length-1]}else S=k({type:"paren",nodes:[]}),E.push(S),k({type:"text",value:w});else{let t;for(A++;T<O&&(t=R());)if(w+=t,t!==h)if(t!==i){if(t===d&&(A--,0===A))break}else w+=R();else A++;k({type:"text",value:w})}else k({type:"text",value:"\\"+w});else k({type:"text",value:(e.keepEscaping?w:"")+R()});do{if(S=E.pop(),"root"!==S.type){S.nodes.forEach((t=>{t.nodes||("open"===t.type&&(t.isOpen=!0),"close"===t.type&&(t.isClose=!0),t.nodes||(t.type="text"),t.invalid=!0)}));let t=E[E.length-1],e=t.nodes.indexOf(S);t.nodes.splice(e,1,...S.nodes)}}while(E.length>0);return k({type:"eos"}),_}},3349:(t,e,r)=>{"use strict";const n=r(3083);t.exports=(t,e={})=>{let r=(t,o={})=>{let i=e.escapeInvalid&&n.isInvalidBrace(o),s=!0===t.invalid&&!0===e.escapeInvalid,a="";if(t.value)return(i||s)&&n.isOpenOrClose(t)?"\\"+t.value:t.value;if(t.value)return t.value;if(t.nodes)for(let e of t.nodes)a+=r(e);return a};return r(t)}},3083:(t,e)=>{"use strict";e.isInteger=t=>"number"==typeof t?Number.isInteger(t):"string"==typeof t&&""!==t.trim()&&Number.isInteger(Number(t)),e.find=(t,e)=>t.nodes.find((t=>t.type===e)),e.exceedsLimit=(t,r,n=1,o)=>!1!==o&&!(!e.isInteger(t)||!e.isInteger(r))&&(Number(r)-Number(t))/Number(n)>=o,e.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];n&&(r&&n.type===r||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},e.encloseBrace=t=>"brace"===t.type&&t.commas>>0+t.ranges>>0==0&&(t.invalid=!0,!0),e.isInvalidBrace=t=>!("brace"!==t.type||!0!==t.invalid&&!t.dollar&&(t.commas>>0+t.ranges>>0!=0&&!0===t.open&&!0===t.close||(t.invalid=!0,0))),e.isOpenOrClose=t=>"open"===t.type||"close"===t.type||!0===t.open||!0===t.close,e.reduce=t=>t.reduce(((t,e)=>("text"===e.type&&t.push(e.value),"range"===e.type&&(e.type="text"),t)),[]),e.flatten=(...t)=>{const e=[],r=t=>{for(let n=0;n<t.length;n++){let o=t[n];Array.isArray(o)?r(o,e):void 0!==o&&e.push(o)}return e};return r(t),e}},3294:(t,e,r)=>{"use strict";const n=r(5135),o=r(7888),i=r(3456),s=r(3403),a=r(4113),u=r(3862),c=r(4426);async function l(t,e){p(t);const r=f(t,i.default,e),n=await Promise.all(r);return c.array.flatten(n)}function f(t,e,r){const i=o.transform([].concat(t)),s=new u.default(r),a=n.generate(i,s),c=new e(s);return a.map(c.read,c)}function p(t){if(![].concat(t).every((t=>c.string.isString(t)&&!c.string.isEmpty(t))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}!function(t){t.sync=function(t,e){p(t);const r=f(t,a.default,e);return c.array.flatten(r)},t.stream=function(t,e){p(t);const r=f(t,s.default,e);return c.stream.merge(r)},t.generateTasks=function(t,e){p(t);const r=o.transform([].concat(t)),i=new u.default(e);return n.generate(r,i)},t.isDynamicPattern=function(t,e){p(t);const r=new u.default(e);return c.pattern.isDynamicPattern(t,r)},t.escapePath=function(t){return p(t),c.path.escape(t)}}(l||(l={})),t.exports=l},7888:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeDuplicateSlashes=e.transform=void 0;const r=/(?!^)\/{2,}/g;function n(t){return t.replace(r,"/")}e.transform=function(t){return t.map((t=>n(t)))},e.removeDuplicateSlashes=n},5135:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertPatternGroupToTask=e.convertPatternGroupsToTasks=e.groupPatternsByBaseDirectory=e.getNegativePatternsAsPositive=e.getPositivePatterns=e.convertPatternsToTasks=e.generate=void 0;const n=r(4426);function o(t,e,r){const o=[],i=n.pattern.getPatternsOutsideCurrentDirectory(t),s=n.pattern.getPatternsInsideCurrentDirectory(t),l=a(i),f=a(s);return o.push(...u(l,e,r)),"."in f?o.push(c(".",s,e,r)):o.push(...u(f,e,r)),o}function i(t){return n.pattern.getPositivePatterns(t)}function s(t,e){return n.pattern.getNegativePatterns(t).concat(e).map(n.pattern.convertToPositivePattern)}function a(t){return t.reduce(((t,e)=>{const r=n.pattern.getBaseDirectory(e);return r in t?t[r].push(e):t[r]=[e],t}),{})}function u(t,e,r){return Object.keys(t).map((n=>c(n,t[n],e,r)))}function c(t,e,r,o){return{dynamic:o,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(n.pattern.convertToNegativePattern))}}e.generate=function(t,e){const r=i(t),a=s(t,e.ignore),u=r.filter((t=>n.pattern.isStaticPattern(t,e))),c=r.filter((t=>n.pattern.isDynamicPattern(t,e))),l=o(u,a,!1),f=o(c,a,!0);return l.concat(f)},e.convertPatternsToTasks=o,e.getPositivePatterns=i,e.getNegativePatternsAsPositive=s,e.groupPatternsByBaseDirectory=a,e.convertPatternGroupsToTasks=u,e.convertPatternGroupToTask=c},3456:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1973),o=r(466);class i extends o.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}async read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t);return(await this.api(e,t,r)).map((t=>r.transform(t)))}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}e.default=i},346:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4426),o=r(7769);e.default=class{constructor(t,e){this._settings=t,this._micromatchOptions=e}getFilter(t,e,r){const n=this._getMatcher(e),o=this._getNegativePatternsRe(r);return e=>this._filter(t,e,n,o)}_getMatcher(t){return new o.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){const e=t.filter(n.pattern.isAffectDepthOfReadingPattern);return n.pattern.convertPatternsToRe(e,this._micromatchOptions)}_filter(t,e,r,o){if(this._isSkippedByDeep(t,e.path))return!1;if(this._isSkippedSymbolicLink(e))return!1;const i=n.path.removeLeadingDotSegment(e.path);return!this._isSkippedByPositivePatterns(i,r)&&this._isSkippedByNegativePatterns(i,o)}_isSkippedByDeep(t,e){return this._settings.deep!==1/0&&this._getEntryLevel(t,e)>=this._settings.deep}_getEntryLevel(t,e){const r=e.split("/").length;return""===t?r:r-t.split("/").length}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,e){return!this._settings.baseNameMatch&&!e.match(t)}_isSkippedByNegativePatterns(t,e){return!n.pattern.matchAny(t,e)}}},7026:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4426);e.default=class{constructor(t,e){this._settings=t,this._micromatchOptions=e,this.index=new Map}getFilter(t,e){const r=n.pattern.convertPatternsToRe(t,this._micromatchOptions),o=n.pattern.convertPatternsToRe(e,this._micromatchOptions);return t=>this._filter(t,r,o)}_filter(t,e,r){if(this._settings.unique&&this._isDuplicateEntry(t))return!1;if(this._onlyFileFilter(t)||this._onlyDirectoryFilter(t))return!1;if(this._isSkippedByAbsoluteNegativePatterns(t.path,r))return!1;const n=this._settings.baseNameMatch?t.name:t.path,o=t.dirent.isDirectory(),i=this._isMatchToPatterns(n,e,o)&&!this._isMatchToPatterns(t.path,r,o);return this._settings.unique&&i&&this._createIndexRecord(t),i}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,e){if(!this._settings.absolute)return!1;const r=n.path.makeAbsolute(this._settings.cwd,t);return n.pattern.matchAny(r,e)}_isMatchToPatterns(t,e,r){const o=n.path.removeLeadingDotSegment(t),i=n.pattern.matchAny(o,e);return!i&&r?n.pattern.matchAny(o+"/",e):i}}},3046:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4426);e.default=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return n.errno.isEnoentCodeError(t)||this._settings.suppressErrors}}},92:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4426);e.default=class{constructor(t,e,r){this._patterns=t,this._settings=e,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){const t=n.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const e of t){const t=this._getPatternSegments(e),r=this._splitSegmentsIntoSections(t);this._storage.push({complete:r.length<=1,pattern:e,segments:t,sections:r})}}_getPatternSegments(t){return n.pattern.getPatternParts(t,this._micromatchOptions).map((t=>n.pattern.isDynamicPattern(t,this._settings)?{dynamic:!0,pattern:t,patternRe:n.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:!1,pattern:t}))}_splitSegmentsIntoSections(t){return n.array.splitWhen(t,(t=>t.dynamic&&n.pattern.hasGlobStar(t.pattern)))}}},7769:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(92);class o extends n.default{match(t){const e=t.split("/"),r=e.length,n=this._storage.filter((t=>!t.complete||t.segments.length>r));for(const t of n){const n=t.sections[0];if(!t.complete&&r>n.length)return!0;if(e.every(((e,r)=>{const n=t.segments[r];return!(!n.dynamic||!n.patternRe.test(e))||!n.dynamic&&n.pattern===e})))return!0}return!1}}e.default=o},466:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1017),o=r(346),i=r(7026),s=r(3046),a=r(218);e.default=class{constructor(t){this._settings=t,this.errorFilter=new s.default(this._settings),this.entryFilter=new i.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new o.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new a.default(this._settings)}_getRootDirectory(t){return n.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){const e="."===t.base?"":t.base;return{basePath:e,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(e,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}},3403:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(2781),o=r(9086),i=r(466);class s extends i.default{constructor(){super(...arguments),this._reader=new o.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t),o=this.api(e,t,r),i=new n.Readable({objectMode:!0,read:()=>{}});return o.once("error",(t=>i.emit("error",t))).on("data",(t=>i.emit("data",r.transform(t)))).once("end",(()=>i.emit("end"))),i.once("close",(()=>o.destroy())),i}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}e.default=s},4113:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(112),o=r(466);class i extends o.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t);return this.api(e,t,r).map(r.transform)}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}e.default=i},218:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4426);e.default=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let e=t.path;return this._settings.absolute&&(e=n.path.makeAbsolute(this._settings.cwd,e),e=n.path.unixify(e)),this._settings.markDirectories&&t.dirent.isDirectory()&&(e+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:e}):e}}},1973:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(5439),o=r(2117),i=r(9086);class s extends o.default{constructor(){super(...arguments),this._walkAsync=n.walk,this._readerStream=new i.default(this._settings)}dynamic(t,e){return new Promise(((r,n)=>{this._walkAsync(t,e,((t,e)=>{null===t?r(e):n(t)}))}))}async static(t,e){const r=[],n=this._readerStream.static(t,e);return new Promise(((t,e)=>{n.once("error",e),n.on("data",(t=>r.push(t))),n.once("end",(()=>t(r)))}))}}e.default=s},2117:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1017),o=r(6203),i=r(4426);e.default=class{constructor(t){this._settings=t,this._fsStatSettings=new o.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return n.resolve(this._settings.cwd,t)}_makeEntry(t,e){const r={name:e,path:e,dirent:i.fs.createDirentFromStats(e,t)};return this._settings.stats&&(r.stats=t),r}_isFatalError(t){return!i.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}}},9086:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(2781),o=r(6203),i=r(5439),s=r(2117);class a extends s.default{constructor(){super(...arguments),this._walkStream=i.walkStream,this._stat=o.stat}dynamic(t,e){return this._walkStream(t,e)}static(t,e){const r=t.map(this._getFullEntryPath,this),o=new n.PassThrough({objectMode:!0});o._write=(n,i,s)=>this._getEntry(r[n],t[n],e).then((t=>{null!==t&&e.entryFilter(t)&&o.push(t),n===r.length-1&&o.end(),s()})).catch(s);for(let t=0;t<r.length;t++)o.write(t);return o}_getEntry(t,e,r){return this._getStat(t).then((t=>this._makeEntry(t,e))).catch((t=>{if(r.errorFilter(t))return null;throw t}))}_getStat(t){return new Promise(((e,r)=>{this._stat(t,this._fsStatSettings,((t,n)=>null===t?e(n):r(t)))}))}}e.default=a},112:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(6203),o=r(5439),i=r(2117);class s extends i.default{constructor(){super(...arguments),this._walkSync=o.walkSync,this._statSync=n.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const r=[];for(const n of t){const t=this._getFullEntryPath(n),o=this._getEntry(t,n,e);null!==o&&e.entryFilter(o)&&r.push(o)}return r}_getEntry(t,e,r){try{const r=this._getStat(t);return this._makeEntry(r,e)}catch(t){if(r.errorFilter(t))return null;throw t}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}e.default=s},3862:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const n=r(7147),o=r(2037),i=Math.max(o.cpus().length,1);e.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:n.lstat,lstatSync:n.lstatSync,stat:n.stat,statSync:n.statSync,readdir:n.readdir,readdirSync:n.readdirSync},e.default=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,i),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,e){return void 0===t?e:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},e.DEFAULT_FILE_SYSTEM_ADAPTER),t)}}},4825:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitWhen=e.flatten=void 0,e.flatten=function(t){return t.reduce(((t,e)=>[].concat(t,e)),[])},e.splitWhen=function(t,e){const r=[[]];let n=0;for(const o of t)e(o)?(n++,r[n]=[]):r[n].push(o);return r}},7843:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEnoentCodeError=void 0,e.isEnoentCodeError=function(t){return"ENOENT"===t.code}},6334:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;class r{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}e.createDirentFromStats=function(t,e){return new r(t,e)}},4426:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.string=e.stream=e.pattern=e.path=e.fs=e.errno=e.array=void 0;const n=r(4825);e.array=n;const o=r(7843);e.errno=o;const i=r(6334);e.fs=i;const s=r(2003);e.path=s;const a=r(57);e.pattern=a;const u=r(6242);e.stream=u;const c=r(3021);e.string=c},2003:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeLeadingDotSegment=e.escape=e.makeAbsolute=e.unixify=void 0;const n=r(1017),o=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;e.unixify=function(t){return t.replace(/\\/g,"/")},e.makeAbsolute=function(t,e){return n.resolve(t,e)},e.escape=function(t){return t.replace(o,"\\$2")},e.removeLeadingDotSegment=function(t){if("."===t.charAt(0)){const e=t.charAt(1);if("/"===e||"\\"===e)return t.slice(2)}return t}},57:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchAny=e.convertPatternsToRe=e.makeRe=e.getPatternParts=e.expandBraceExpansion=e.expandPatternsWithBraceExpansion=e.isAffectDepthOfReadingPattern=e.endsWithSlashGlobStar=e.hasGlobStar=e.getBaseDirectory=e.isPatternRelatedToParentDirectory=e.getPatternsOutsideCurrentDirectory=e.getPatternsInsideCurrentDirectory=e.getPositivePatterns=e.getNegativePatterns=e.isPositivePattern=e.isNegativePattern=e.convertToNegativePattern=e.convertToPositivePattern=e.isDynamicPattern=e.isStaticPattern=void 0;const n=r(1017),o=r(7647),i=r(850),s=/[*?]|^!/,a=/\[[^[]*]/,u=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,c=/[!*+?@]\([^(]*\)/,l=/,|\.\./;function f(t,e={}){return!p(t,e)}function p(t,e={}){return!!(""!==t&&(!1===e.caseSensitiveMatch||t.includes("\\")||s.test(t)||a.test(t)||u.test(t)||!1!==e.extglob&&c.test(t)||!1!==e.braceExpansion&&function(t){const e=t.indexOf("{");if(-1===e)return!1;const r=t.indexOf("}",e+1);if(-1===r)return!1;const n=t.slice(e,r);return l.test(n)}(t)))}function h(t){return t.startsWith("!")&&"("!==t[1]}function d(t){return!h(t)}function y(t){return t.startsWith("..")||t.startsWith("./..")}function v(t){return t.endsWith("/**")}function g(t){return i.braces(t,{expand:!0,nodupes:!0})}function m(t,e){return i.makeRe(t,e)}e.isStaticPattern=f,e.isDynamicPattern=p,e.convertToPositivePattern=function(t){return h(t)?t.slice(1):t},e.convertToNegativePattern=function(t){return"!"+t},e.isNegativePattern=h,e.isPositivePattern=d,e.getNegativePatterns=function(t){return t.filter(h)},e.getPositivePatterns=function(t){return t.filter(d)},e.getPatternsInsideCurrentDirectory=function(t){return t.filter((t=>!y(t)))},e.getPatternsOutsideCurrentDirectory=function(t){return t.filter(y)},e.isPatternRelatedToParentDirectory=y,e.getBaseDirectory=function(t){return o(t,{flipBackslashes:!1})},e.hasGlobStar=function(t){return t.includes("**")},e.endsWithSlashGlobStar=v,e.isAffectDepthOfReadingPattern=function(t){const e=n.basename(t);return v(t)||f(e)},e.expandPatternsWithBraceExpansion=function(t){return t.reduce(((t,e)=>t.concat(g(e))),[])},e.expandBraceExpansion=g,e.getPatternParts=function(t,e){let{parts:r}=i.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return 0===r.length&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r},e.makeRe=m,e.convertPatternsToRe=function(t,e){return t.map((t=>m(t,e)))},e.matchAny=function(t,e){return e.some((e=>e.test(t)))}},6242:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;const n=r(155);function o(t){t.forEach((t=>t.emit("close")))}e.merge=function(t){const e=n(t);return t.forEach((t=>{t.once("error",(t=>e.emit("error",t)))})),e.once("close",(()=>o(t))),e.once("end",(()=>o(t))),e}},3021:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=e.isString=void 0,e.isString=function(t){return"string"==typeof t},e.isEmpty=function(t){return""===t}},6932:(t,e,r)=>{"use strict";const n=r(8501),o=r(8844),i=r(1192);t.exports={XMLParser:o,XMLValidator:n,XMLBuilder:i}},7849:(t,e)=>{"use strict";const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",o=new RegExp("^"+n+"$");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,r){if(e){const n=Object.keys(e),o=n.length;for(let i=0;i<o;i++)t[n[i]]="strict"===r?[e[n[i]]]:e[n[i]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.isName=function(t){return!(null==o.exec(t))},e.getAllMatches=function(t,e){const r=[];let n=e.exec(t);for(;n;){const o=[];o.startIndex=e.lastIndex-n[0].length;const i=n.length;for(let t=0;t<i;t++)o.push(n[t]);r.push(o),n=e.exec(t)}return r},e.nameRegexp=n},8501:(t,e,r)=>{"use strict";const n=r(7849),o={allowBooleanAttributes:!1,unpairedTags:[]};function i(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function s(t,e){const r=e;for(;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{const n=t.substr(r,e-r);if(e>5&&"xml"===n)return p("InvalidXml","XML declaration allowed only at the start of the document.",d(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function a(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let r=1;for(e+=8;e<t.length;e++)if("<"===t[e])r++;else if(">"===t[e]&&(r--,0===r))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}function u(t,e){let r="",n="",o=!1;for(;e<t.length;e++){if('"'===t[e]||"'"===t[e])""===n?n=t[e]:n!==t[e]||(n="");else if(">"===t[e]&&""===n){o=!0;break}r+=t[e]}return""===n&&{value:r,index:e,tagClosed:o}}e.validate=function(t,e){e=Object.assign({},o,e);const r=[];let c=!1,h=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let o=0;o<t.length;o++)if("<"===t[o]&&"?"===t[o+1]){if(o+=2,o=s(t,o),o.err)return o}else{if("<"!==t[o]){if(i(t[o]))continue;return p("InvalidChar","char '"+t[o]+"' is not expected.",d(t,o))}{let v=o;if(o++,"!"===t[o]){o=a(t,o);continue}{let g=!1;"/"===t[o]&&(g=!0,o++);let m="";for(;o<t.length&&">"!==t[o]&&" "!==t[o]&&"\t"!==t[o]&&"\n"!==t[o]&&"\r"!==t[o];o++)m+=t[o];if(m=m.trim(),"/"===m[m.length-1]&&(m=m.substring(0,m.length-1),o--),y=m,!n.isName(y)){let e;return e=0===m.trim().length?"Invalid space after '<'.":"Tag '"+m+"' is an invalid name.",p("InvalidTag",e,d(t,o))}const b=u(t,o);if(!1===b)return p("InvalidAttr","Attributes for '"+m+"' have open quote.",d(t,o));let w=b.value;if(o=b.index,"/"===w[w.length-1]){const r=o-w.length;w=w.substring(0,w.length-1);const n=l(w,e);if(!0!==n)return p(n.err.code,n.err.msg,d(t,r+n.err.line));c=!0}else if(g){if(!b.tagClosed)return p("InvalidTag","Closing tag '"+m+"' doesn't have proper closing.",d(t,o));if(w.trim().length>0)return p("InvalidTag","Closing tag '"+m+"' can't have attributes or invalid starting.",d(t,v));{const e=r.pop();if(m!==e.tagName){let r=d(t,e.tagStartPos);return p("InvalidTag","Expected closing tag '"+e.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+m+"'.",d(t,v))}0==r.length&&(h=!0)}}else{const n=l(w,e);if(!0!==n)return p(n.err.code,n.err.msg,d(t,o-w.length+n.err.line));if(!0===h)return p("InvalidXml","Multiple possible root nodes found.",d(t,o));-1!==e.unpairedTags.indexOf(m)||r.push({tagName:m,tagStartPos:v}),c=!0}for(o++;o<t.length;o++)if("<"===t[o]){if("!"===t[o+1]){o++,o=a(t,o);continue}if("?"!==t[o+1])break;if(o=s(t,++o),o.err)return o}else if("&"===t[o]){const e=f(t,o);if(-1==e)return p("InvalidChar","char '&' is not expected.",d(t,o));o=e}else if(!0===h&&!i(t[o]))return p("InvalidXml","Extra text at the end",d(t,o));"<"===t[o]&&o--}}}var y;return c?1==r.length?p("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",d(t,r[0].tagStartPos)):!(r.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(r.map((t=>t.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};const c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function l(t,e){const r=n.getAllMatches(t,c),o={};for(let t=0;t<r.length;t++){if(0===r[t][1].length)return p("InvalidAttr","Attribute '"+r[t][2]+"' has no space in starting.",y(r[t]));if(void 0!==r[t][3]&&void 0===r[t][4])return p("InvalidAttr","Attribute '"+r[t][2]+"' is without value.",y(r[t]));if(void 0===r[t][3]&&!e.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+r[t][2]+"' is not allowed.",y(r[t]));const n=r[t][2];if(!h(n))return p("InvalidAttr","Attribute '"+n+"' is an invalid name.",y(r[t]));if(o.hasOwnProperty(n))return p("InvalidAttr","Attribute '"+n+"' is repeated.",y(r[t]));o[n]=1}return!0}function f(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let r=/\d/;for("x"===t[e]&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(r))break}return-1}(t,++e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(";"===t[e])break;return-1}return e}function p(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function h(t){return n.isName(t)}function d(t,e){const r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function y(t){return t.startIndex+t[1].length}},1192:(t,e,r)=>{"use strict";const n=r(2592),o={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function i(t){this.options=Object.assign({},o,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=d),this.processTextOrObjNode=a,this.options.format?(this.indentate=h,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=p,this.buildObjNode=c):(this.buildTextNode=l,this.buildObjNode=u),this.buildTextValNode=l,this.buildObjectNode=u,this.replaceEntitiesValue=f,this.buildAttrPairStr=s}function s(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'}function a(t,e,r){const n=this.j2x(t,r+1);return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjNode(n.val,e,n.attrStr,r)}function u(t,e,r,n){let o="</"+e+this.tagEndChar,i="";return"?"===e[0]&&(i="?",o=""),r&&-1===t.indexOf("<")?this.indentate(n)+"<"+e+r+i+">"+t+o:!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===i.length?this.indentate(n)+`\x3c!--${t}--\x3e`+this.newLine:this.indentate(n)+"<"+e+r+i+this.tagEndChar+t+this.indentate(n)+o}function c(t,e,r,n){return""!==t?this.buildObjectNode(t,e,r,n):"?"===e[0]?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+"/"+this.tagEndChar}function l(t,e,r,n){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(n)+`\x3c!--${t}--\x3e`+this.newLine;{let o=this.options.tagValueProcessor(e,t);return o=this.replaceEntitiesValue(o),""===o&&-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode?this.indentate(n)+"<"+e+this.tagEndChar:this.indentate(n)+"<"+e+"/"+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+o+"</"+e+this.tagEndChar}}function f(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t}function p(t,e,r,n){return""===t&&-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode?this.indentate(n)+"<"+e+this.tagEndChar:this.indentate(n)+"<"+e+"/"+this.tagEndChar:""!==t?this.buildTextValNode(t,e,r,n):"?"===e[0]?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+"/"+this.tagEndChar}function h(t){return this.options.indentBy.repeat(t)}function d(t){return!!t.startsWith(this.options.attributeNamePrefix)&&t.substr(this.attrPrefixLen)}i.prototype.build=function(t){return this.options.preserveOrder?n(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)},i.prototype.j2x=function(t,e){let r="",n="";for(let o in t)if(void 0===t[o]);else if(null===t[o])"?"===o[0]?n+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(t[o]instanceof Date)n+=this.buildTextNode(t[o],o,"",e);else if("object"!=typeof t[o]){const i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+t[o]);else if(o===this.options.textNodeName){let e=this.options.tagValueProcessor(o,""+t[o]);n+=this.replaceEntitiesValue(e)}else n+=this.buildTextNode(t[o],o,"",e)}else if(Array.isArray(t[o])){const r=t[o].length;for(let i=0;i<r;i++){const r=t[o][i];void 0===r||(null===r?"?"===o[0]?n+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar:n+="object"==typeof r?this.processTextOrObjNode(r,o,e):this.buildTextNode(r,o,"",e))}}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){const e=Object.keys(t[o]),n=e.length;for(let i=0;i<n;i++)r+=this.buildAttrPairStr(e[i],""+t[o][e[i]])}else n+=this.processTextOrObjNode(t[o],o,e);return{attrStr:r,val:n}},t.exports=i},2592:t=>{function e(t,s,a,u){let c="",l=!1;for(let f=0;f<t.length;f++){const p=t[f],h=r(p);let d="";if(d=0===a.length?h:`${a}.${h}`,h===s.textNodeName){let t=p[h];o(d,s)||(t=s.tagValueProcessor(h,t),t=i(t,s)),l&&(c+=u),c+=t,l=!1;continue}if(h===s.cdataPropName){l&&(c+=u),c+=`<![CDATA[${p[h][0][s.textNodeName]}]]>`,l=!1;continue}if(h===s.commentPropName){c+=u+`\x3c!--${p[h][0][s.textNodeName]}--\x3e`,l=!0;continue}if("?"===h[0]){const t=n(p[":@"],s),e="?xml"===h?"":u;let r=p[h][0][s.textNodeName];r=0!==r.length?" "+r:"",c+=e+`<${h}${r}${t}?>`,l=!0;continue}let y=u;""!==y&&(y+=s.indentBy);const v=u+`<${h}${n(p[":@"],s)}`,g=e(p[h],s,d,y);-1!==s.unpairedTags.indexOf(h)?s.suppressUnpairedNode?c+=v+">":c+=v+"/>":g&&0!==g.length||!s.suppressEmptyNode?g&&g.endsWith(">")?c+=v+`>${g}${u}</${h}>`:(c+=v+">",g&&""!==u&&(g.includes("/>")||g.includes("</"))?c+=u+s.indentBy+g+u:c+=g,c+=`</${h}>`):c+=v+"/>",l=!0}return c}function r(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const r=e[t];if(":@"!==r)return r}}function n(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){let o=e.attributeValueProcessor(n,t[n]);o=i(o,e),!0===o&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${o}"`}return r}function o(t,e){let r=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function i(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){const n=e.entities[r];t=t.replace(n.regex,n.val)}return t}t.exports=function(t,r){let n="";return r.format&&r.indentBy.length>0&&(n="\n"),e(t,r,"",n)}},4780:t=>{const e=RegExp("^\\s([a-zA-z0-0]+)[ \t](['\"])([^&]+)\\2");function r(t,r){const n=e.exec(t);n&&(r[n[1]]={regx:RegExp(`&${n[1]};`,"g"),val:n[3]})}t.exports=function(t,e){const n={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");{e+=9;let o=1,i=!1,s=!1,a=!1,u="";for(;e<t.length;e++)if("<"===t[e]){if(i&&"!"===t[e+1]&&"E"===t[e+2]&&"N"===t[e+3]&&"T"===t[e+4]&&"I"===t[e+5]&&"T"===t[e+6]&&"Y"===t[e+7])e+=7,s=!0;else if(i&&"!"===t[e+1]&&"E"===t[e+2]&&"L"===t[e+3]&&"E"===t[e+4]&&"M"===t[e+5]&&"E"===t[e+6]&&"N"===t[e+7]&&"T"===t[e+8])e+=8;else if(i&&"!"===t[e+1]&&"A"===t[e+2]&&"T"===t[e+3]&&"T"===t[e+4]&&"L"===t[e+5]&&"I"===t[e+6]&&"S"===t[e+7]&&"T"===t[e+8])e+=8;else if(i&&"!"===t[e+1]&&"N"===t[e+2]&&"O"===t[e+3]&&"T"===t[e+4]&&"A"===t[e+5]&&"T"===t[e+6]&&"I"===t[e+7]&&"O"===t[e+8]&&"N"===t[e+9])e+=9;else{if("!"!==t[e+1]||"-"!==t[e+2]||"-"!==t[e+3])throw new Error("Invalid DOCTYPE");a=!0}o++,u=""}else if(">"===t[e]){if(a){if("-"!==t[e-1]||"-"!==t[e-2])throw new Error("Invalid XML comment in DOCTYPE");a=!1}else s&&(r(u,n),s=!1);if(o--,0===o)break}else"["===t[e]?i=!0:u+=t[e];if(0!==o)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:e}}},6745:(t,e)=>{const r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1};e.buildOptions=function(t){return Object.assign({},r,t)},e.defaultOptions=r},1078:(t,e,r)=>{"use strict";const n=r(7849),o=r(6311),i=r(4780),s=r(4153);function a(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function u(t,e,r,n,o,i,s){if(void 0!==t&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));const n=this.options.tagValueProcessor(e,t,r,o,i);return null==n?t:typeof n!=typeof t||n!==t?n:this.options.trimValues||t.trim()===t?b(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function c(t){if(this.options.removeNSPrefix){const e=t.split(":"),r="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=r+e[1])}return t}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,n.nameRegexp);const l=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function f(t,e){if(!this.options.ignoreAttributes&&"string"==typeof t){const r=n.getAllMatches(t,l),o=r.length,i={};for(let t=0;t<o;t++){const n=this.resolveNameSpace(r[t][1]);let o=r[t][4],s=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(s=this.options.transformAttributeName(s)),void 0!==o){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);const t=this.options.attributeValueProcessor(n,o,e);i[s]=null==t?o:typeof t!=typeof o||t!==o?t:b(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[s]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const t={};return t[this.options.attributesGroupName]=i,t}return i}}const p=function(t){t=t.replace(/\r\n?/g,"\n");const e=new o("!xml");let r=e,n="",s="";for(let a=0;a<t.length;a++)if("<"===t[a])if("/"===t[a+1]){const e=v(t,">",a,"Closing Tag is not closed.");let o=t.substring(a+2,e).trim();if(this.options.removeNSPrefix){const t=o.indexOf(":");-1!==t&&(o=o.substr(t+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),r&&(n=this.saveTextToParentTag(n,r,s)),s=s.substr(0,s.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",a=e}else if("?"===t[a+1]){let e=g(t,a,!1,"?>");if(!e)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),this.options.ignoreDeclaration&&"?xml"===e.tagName||this.options.ignorePiTags);else{const t=new o(e.tagName);t.add(this.options.textNodeName,""),e.tagName!==e.tagExp&&e.attrExpPresent&&(t[":@"]=this.buildAttributesMap(e.tagExp,s)),r.addChild(t)}a=e.closeIndex+1}else if("!--"===t.substr(a+1,3)){const e=v(t,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const o=t.substring(a+4,e-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}a=e}else if("!D"===t.substr(a+1,2)){const e=i(t,a);this.docTypeEntities=e.entities,a=e.i}else if("!["===t.substr(a+1,2)){const e=v(t,"]]>",a,"CDATA is not closed.")-2,o=t.substring(a+9,e);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]);else{let t=this.parseTextData(o,r.tagname,s,!0,!1,!0);null==t&&(t=""),r.add(this.options.textNodeName,t)}a=e+2}else{let i=g(t,a,this.options.removeNSPrefix),u=i.tagName,c=i.tagExp,l=i.attrExpPresent,f=i.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&n&&"!xml"!==r.tagname&&(n=this.saveTextToParentTag(n,r,s,!1)),u!==e.tagname&&(s+=s?"."+u:u);const p=r;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,u)){let e="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)a=i.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(u))a=i.closeIndex;else{const r=this.readStopNodeData(t,u,f+1);if(!r)throw new Error(`Unexpected end of ${u}`);a=r.i,e=r.tagContent}const n=new o(u);u!==c&&l&&(n[":@"]=this.buildAttributesMap(c,s)),e&&(e=this.parseTextData(e,u,s,!0,l,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),n.add(this.options.textNodeName,e),r.addChild(n)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){"/"===u[u.length-1]?(u=u.substr(0,u.length-1),c=u):c=c.substr(0,c.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const t=new o(u);u!==c&&l&&(t[":@"]=this.buildAttributesMap(c,s)),s=s.substr(0,s.lastIndexOf(".")),r.addChild(t)}else{const t=new o(u);this.tagsNodeStack.push(r),u!==c&&l&&(t[":@"]=this.buildAttributesMap(c,s)),r.addChild(t),r=t}n="",a=f}}else n+=t[a];return e.child},h=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){const r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function d(t,e,r,n){return t&&(void 0===n&&(n=0===Object.keys(e.child).length),void 0!==(t=this.parseTextData(t,e.tagname,r,!1,!!e[":@"]&&0!==Object.keys(e[":@"]).length,n))&&""!==t&&e.add(this.options.textNodeName,t),t=""),t}function y(t,e,r){const n="*."+r;for(const r in t){const o=t[r];if(n===o||e===o)return!0}return!1}function v(t,e,r,n){const o=t.indexOf(e,r);if(-1===o)throw new Error(n);return o+e.length-1}function g(t,e,r,n=">"){const o=function(t,e,r=">"){let n,o="";for(let i=e;i<t.length;i++){let e=t[i];if(n)e===n&&(n="");else if('"'===e||"'"===e)n=e;else if(e===r[0]){if(!r[1])return{data:o,index:i};if(t[i+1]===r[1])return{data:o,index:i}}else"\t"===e&&(e=" ");o+=e}}(t,e+1,n);if(!o)return;let i=o.data;const s=o.index,a=i.search(/\s/);let u=i,c=!0;if(-1!==a&&(u=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){const t=u.indexOf(":");-1!==t&&(u=u.substr(t+1),c=u!==o.data.substr(t+1))}return{tagName:u,tagExp:i,closeIndex:s,attrExpPresent:c}}function m(t,e,r){const n=r;let o=1;for(;r<t.length;r++)if("<"===t[r])if("/"===t[r+1]){const i=v(t,">",r,`${e} is not closed`);if(t.substring(r+2,i).trim()===e&&(o--,0===o))return{tagContent:t.substring(n,r),i};r=i}else if("?"===t[r+1])r=v(t,"?>",r+1,"StopNode is not closed.");else if("!--"===t.substr(r+1,3))r=v(t,"--\x3e",r+3,"StopNode is not closed.");else if("!["===t.substr(r+1,2))r=v(t,"]]>",r,"StopNode is not closed.")-2;else{const n=g(t,r,">");n&&((n&&n.tagName)===e&&"/"!==n.tagExp[n.tagExp.length-1]&&o++,r=n.closeIndex)}}function b(t,e,r){if(e&&"string"==typeof t){const e=t.trim();return"true"===e||"false"!==e&&s(t,r)}return n.isExist(t)?t:""}t.exports=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=a,this.parseXml=p,this.parseTextData=u,this.resolveNameSpace=c,this.buildAttributesMap=f,this.isItStopNode=y,this.replaceEntitiesValue=h,this.readStopNodeData=m,this.saveTextToParentTag=d}}},8844:(t,e,r)=>{const{buildOptions:n}=r(6745),o=r(1078),{prettify:i}=r(6997),s=r(8501);t.exports=class{constructor(t){this.externalEntities={},this.options=n(t)}parse(t,e){if("string"==typeof t);else{if(!t.toString)throw new Error("XML data is accepted in String or Bytes[] form.");t=t.toString()}if(e){!0===e&&(e={});const r=s.validate(t,e);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}const r=new o(this.options);r.addExternalEntities(this.externalEntities);const n=r.parseXml(t);return this.options.preserveOrder||void 0===n?n:i(n,this.options)}addEntity(t,e){if(-1!==e.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==t.indexOf("&")||-1!==t.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===e)throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e}}},6997:(t,e)=>{"use strict";function r(t,e,s){let a;const u={};for(let c=0;c<t.length;c++){const l=t[c],f=n(l);let p="";if(p=void 0===s?f:s+"."+f,f===e.textNodeName)void 0===a?a=l[f]:a+=""+l[f];else{if(void 0===f)continue;if(l[f]){let t=r(l[f],e,p);const n=i(t,e);l[":@"]?o(t,l[":@"],p,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]="":t=""):t=t[e.textNodeName],void 0!==u[f]&&u.hasOwnProperty(f)?(Array.isArray(u[f])||(u[f]=[u[f]]),u[f].push(t)):e.isArray(f,p,n)?u[f]=[t]:u[f]=t}}}return"string"==typeof a?a.length>0&&(u[e.textNodeName]=a):void 0!==a&&(u[e.textNodeName]=a),u}function n(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const r=e[t];if(":@"!==r)return r}}function o(t,e,r,n){if(e){const o=Object.keys(e),i=o.length;for(let s=0;s<i;s++){const i=o[s];n.isArray(i,r+"."+i,!0,!0)?t[i]=[e[i]]:t[i]=e[i]}}}function i(t,e){const r=Object.keys(t).length;return!!(0===r||1===r&&t[e.textNodeName])}e.prettify=function(t,e){return r(t,e)}},6311:t=>{"use strict";t.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){this.child.push({[t]:e})}addChild(t){t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},373:(t,e,r)=>{"use strict";var n=r(3650);function o(t,e,r){if("function"==typeof t&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var o=n(s),a=null,u=null,c=0,l=null,f={push:function(r,n){var s=o.get();s.context=t,s.release=p,s.value=r,s.callback=n||i,s.errorHandler=l,c===f.concurrency||f.paused?u?(u.next=s,u=s):(a=s,u=s,f.saturated()):(c++,e.call(t,s.value,s.worked))},drain:i,saturated:i,pause:function(){f.paused=!0},paused:!1,concurrency:r,running:function(){return c},resume:function(){if(f.paused){f.paused=!1;for(var t=0;t<f.concurrency;t++)c++,p()}},idle:function(){return 0===c&&0===f.length()},length:function(){for(var t=a,e=0;t;)t=t.next,e++;return e},getQueue:function(){for(var t=a,e=[];t;)e.push(t.value),t=t.next;return e},unshift:function(r,n){var s=o.get();s.context=t,s.release=p,s.value=r,s.callback=n||i,c===f.concurrency||f.paused?a?(s.next=a,a=s):(a=s,u=s,f.saturated()):(c++,e.call(t,s.value,s.worked))},empty:i,kill:function(){a=null,u=null,f.drain=i},killAndDrain:function(){a=null,u=null,f.drain(),f.drain=i},error:function(t){l=t}};return f;function p(r){r&&o.release(r);var n=a;n?f.paused?c--:(u===a&&(u=null),a=n.next,n.next=null,e.call(t,n.value,n.worked),null===u&&f.empty()):0==--c&&f.drain()}}function i(){}function s(){this.value=null,this.callback=i,this.next=null,this.release=i,this.context=null,this.errorHandler=null;var t=this;this.worked=function(e,r){var n=t.callback,o=t.errorHandler,s=t.value;t.value=null,t.callback=i,t.errorHandler&&o(e,s),n.call(t.context,e,r),t.release(t)}}t.exports=o,t.exports.promise=function(t,e,r){"function"==typeof t&&(r=e,e=t,t=null);var n=o(t,(function(t,r){e.call(this,t).then((function(t){r(null,t)}),r)}),r),s=n.push,a=n.unshift;return n.push=function(t){var e=new Promise((function(e,r){s(t,(function(t,n){t?r(t):e(n)}))}));return e.catch(i),e},n.unshift=function(t){var e=new Promise((function(e,r){a(t,(function(t,n){t?r(t):e(n)}))}));return e.catch(i),e},n.drained=function(){if(n.idle())return new Promise((function(t){t()}));var t=n.drain;return new Promise((function(e){n.drain=function(){t(),e()}}))},n}},2664:(t,e,r)=>{"use strict";const n=r(3837),o=r(5702),i=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),s=t=>"number"==typeof t||"string"==typeof t&&""!==t,a=t=>Number.isInteger(+t),u=t=>{let e=`${t}`,r=-1;if("-"===e[0]&&(e=e.slice(1)),"0"===e)return!1;for(;"0"===e[++r];);return r>0},c=(t,e,r)=>{if(e>0){let r="-"===t[0]?"-":"";r&&(t=t.slice(1)),t=r+t.padStart(r?e-1:e,"0")}return!1===r?String(t):t},l=(t,e)=>{let r="-"===t[0]?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},f=(t,e,r,n)=>{if(r)return o(t,e,{wrap:!1,...n});let i=String.fromCharCode(t);return t===e?i:`[${i}-${String.fromCharCode(e)}]`},p=(t,e,r)=>{if(Array.isArray(t)){let e=!0===r.wrap,n=r.capture?"":"?:";return e?`(${n}${t.join("|")})`:t.join("|")}return o(t,e,r)},h=(...t)=>new RangeError("Invalid range arguments: "+n.inspect(...t)),d=(t,e,r)=>{if(!0===r.strictRanges)throw h([t,e]);return[]},y=(t,e,r,n={})=>{if(null==e&&s(t))return[t];if(!s(t)||!s(e))return d(t,e,n);if("function"==typeof r)return y(t,e,1,{transform:r});if(i(r))return y(t,e,0,r);let o={...n};return!0===o.capture&&(o.wrap=!0),r=r||o.step||1,a(r)?a(t)&&a(e)?((t,e,r=1,n={})=>{let o=Number(t),i=Number(e);if(!Number.isInteger(o)||!Number.isInteger(i)){if(!0===n.strictRanges)throw h([t,e]);return[]}0===o&&(o=0),0===i&&(i=0);let s=o>i,a=String(t),d=String(e),y=String(r);r=Math.max(Math.abs(r),1);let v=u(a)||u(d)||u(y),g=v?Math.max(a.length,d.length,y.length):0,m=!1===v&&!1===((t,e,r)=>"string"==typeof t||"string"==typeof e||!0===r.stringify)(t,e,n),b=n.transform||(t=>e=>!0===t?Number(e):String(e))(m);if(n.toRegex&&1===r)return f(l(t,g),l(e,g),!0,n);let w={negatives:[],positives:[]},_=[],E=0;for(;s?o>=i:o<=i;)!0===n.toRegex&&r>1?w[(S=o)<0?"negatives":"positives"].push(Math.abs(S)):_.push(c(b(o,E),g,m)),o=s?o-r:o+r,E++;var S;return!0===n.toRegex?r>1?((t,e)=>{t.negatives.sort(((t,e)=>t<e?-1:t>e?1:0)),t.positives.sort(((t,e)=>t<e?-1:t>e?1:0));let r,n=e.capture?"":"?:",o="",i="";return t.positives.length&&(o=t.positives.join("|")),t.negatives.length&&(i=`-(${n}${t.negatives.join("|")})`),r=o&&i?`${o}|${i}`:o||i,e.wrap?`(${n}${r})`:r})(w,n):p(_,null,{wrap:!1,...n}):_})(t,e,r,o):((t,e,r=1,n={})=>{if(!a(t)&&t.length>1||!a(e)&&e.length>1)return d(t,e,n);let o=n.transform||(t=>String.fromCharCode(t)),i=`${t}`.charCodeAt(0),s=`${e}`.charCodeAt(0),u=i>s,c=Math.min(i,s),l=Math.max(i,s);if(n.toRegex&&1===r)return f(c,l,!1,n);let h=[],y=0;for(;u?i>=s:i<=s;)h.push(o(i,y)),i=u?i-r:i+r,y++;return!0===n.toRegex?p(h,null,{wrap:!1,options:n}):h})(t,e,Math.max(Math.abs(r),1),o):null==r||i(r)?y(t,e,1,r):((t,e)=>{if(!0===e.strictRanges)throw new TypeError(`Expected step "${t}" to be a number`);return[]})(r,o)};t.exports=y},7647:(t,e,r)=>{"use strict";var n=r(6830),o=r(1017).posix.dirname,i="win32"===r(2037).platform(),s=/\\/g,a=/[\{\[].*[\}\]]$/,u=/(^|[^\\])([\{\[]|\([^\)]+$)/,c=/\\([\!\*\?\|\[\]\(\)\{\}])/g;t.exports=function(t,e){Object.assign({flipBackslashes:!0},e).flipBackslashes&&i&&t.indexOf("/")<0&&(t=t.replace(s,"/")),a.test(t)&&(t+="/"),t+="a";do{t=o(t)}while(n(t)||u.test(t));return t.replace(c,"$1")}},2428:t=>{t.exports=function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1}},6830:(t,e,r)=>{var n=r(2428),o={"{":"}","(":")","[":"]"},i=function(t){if("!"===t[0])return!0;for(var e=0,r=-2,n=-2,i=-2,s=-2,a=-2;e<t.length;){if("*"===t[e])return!0;if("?"===t[e+1]&&/[\].+)]/.test(t[e]))return!0;if(-1!==n&&"["===t[e]&&"]"!==t[e+1]&&(n<e&&(n=t.indexOf("]",e)),n>e)){if(-1===a||a>n)return!0;if(-1===(a=t.indexOf("\\",e))||a>n)return!0}if(-1!==i&&"{"===t[e]&&"}"!==t[e+1]&&(i=t.indexOf("}",e))>e&&(-1===(a=t.indexOf("\\",e))||a>i))return!0;if(-1!==s&&"("===t[e]&&"?"===t[e+1]&&/[:!=]/.test(t[e+2])&&")"!==t[e+3]&&(s=t.indexOf(")",e))>e&&(-1===(a=t.indexOf("\\",e))||a>s))return!0;if(-1!==r&&"("===t[e]&&"|"!==t[e+1]&&(r<e&&(r=t.indexOf("|",e)),-1!==r&&")"!==t[r+1]&&(s=t.indexOf(")",r))>r&&(-1===(a=t.indexOf("\\",r))||a>s)))return!0;if("\\"===t[e]){var u=t[e+1];e+=2;var c=o[u];if(c){var l=t.indexOf(c,e);-1!==l&&(e=l+1)}if("!"===t[e])return!0}else e++}return!1},s=function(t){if("!"===t[0])return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if("\\"===t[e]){var r=t[e+1];e+=2;var n=o[r];if(n){var i=t.indexOf(n,e);-1!==i&&(e=i+1)}if("!"===t[e])return!0}else e++}return!1};t.exports=function(t,e){if("string"!=typeof t||""===t)return!1;if(n(t))return!0;var r=i;return e&&!1===e.strict&&(r=s),r(t)}},9924:t=>{"use strict";t.exports=function(t){return"number"==typeof t?t-t==0:"string"==typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t))}},155:(t,e,r)=>{"use strict";const n=r(2781).PassThrough,o=Array.prototype.slice;function i(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=i(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(n(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}t.exports=function(){const t=[],e=o.call(arguments);let r=!1,s=e[e.length-1];s&&!Array.isArray(s)&&null==s.pipe?e.pop():s={};const a=!1!==s.end,u=!0===s.pipeError;null==s.objectMode&&(s.objectMode=!0),null==s.highWaterMark&&(s.highWaterMark=65536);const c=n(s);function l(){for(let e=0,r=arguments.length;e<r;e++)t.push(i(arguments[e],s));return f(),this}function f(){if(r)return;r=!0;let e=t.shift();if(!e)return void process.nextTick(p);Array.isArray(e)||(e=[e]);let n=e.length+1;function o(){--n>0||(r=!1,f())}function i(t){function e(){t.removeListener("merge2UnpipeEnd",e),t.removeListener("end",e),u&&t.removeListener("error",r),o()}function r(t){c.emit("error",t)}if(t._readableState.endEmitted)return o();t.on("merge2UnpipeEnd",e),t.on("end",e),u&&t.on("error",r),t.pipe(c,{end:!1}),t.resume()}for(let t=0;t<e.length;t++)i(e[t]);o()}function p(){r=!1,c.emit("queueDrain"),a&&c.end()}return c.setMaxListeners(0),c.add=l,c.on("unpipe",(function(t){t.emit("merge2UnpipeEnd")})),e.length&&l.apply(null,e),c}},850:(t,e,r)=>{"use strict";const n=r(3837),o=r(6744),i=r(9444),s=r(8702),a=t=>""===t||"./"===t,u=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,o=new Set,s=new Set,a=0,u=t=>{s.add(t.output),r&&r.onResult&&r.onResult(t)};for(let s=0;s<e.length;s++){let c=i(String(e[s]),{...r,onResult:u},!0),l=c.state.negated||c.state.negatedExtglob;l&&a++;for(let e of t){let t=c(e,!0);(l?!t.isMatch:t.isMatch)&&(l?n.add(t.output):(n.delete(t.output),o.add(t.output)))}}let c=(a===e.length?[...s]:[...o]).filter((t=>!n.has(t)));if(r&&0===c.length){if(!0===r.failglob)throw new Error(`No matches found for "${e.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?e.map((t=>t.replace(/\\/g,""))):e}return c};u.match=u,u.matcher=(t,e)=>i(t,e),u.any=u.isMatch=(t,e,r)=>i(e,r)(t),u.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,o=[],i=new Set(u(t,e,{...r,onResult:t=>{r.onResult&&r.onResult(t),o.push(t.output)}}));for(let t of o)i.has(t)||n.add(t);return[...n]},u.contains=(t,e,r)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${n.inspect(t)}"`);if(Array.isArray(e))return e.some((e=>u.contains(t,e,r)));if("string"==typeof e){if(a(t)||a(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return u.isMatch(t,e,{...r,contains:!0})},u.matchKeys=(t,e,r)=>{if(!s.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=u(Object.keys(t),e,r),o={};for(let e of n)o[e]=t[e];return o},u.some=(t,e,r)=>{let n=[].concat(t);for(let t of[].concat(e)){let e=i(String(t),r);if(n.some((t=>e(t))))return!0}return!1},u.every=(t,e,r)=>{let n=[].concat(t);for(let t of[].concat(e)){let e=i(String(t),r);if(!n.every((t=>e(t))))return!1}return!0},u.all=(t,e,r)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${n.inspect(t)}"`);return[].concat(e).every((e=>i(e,r)(t)))},u.capture=(t,e,r)=>{let n=s.isWindows(r),o=i.makeRe(String(t),{...r,capture:!0}).exec(n?s.toPosixSlashes(e):e);if(o)return o.slice(1).map((t=>void 0===t?"":t))},u.makeRe=(...t)=>i.makeRe(...t),u.scan=(...t)=>i.scan(...t),u.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let t of o(String(n),e))r.push(i.parse(t,e));return r},u.braces=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return e&&!0===e.nobrace||!/\{.*\}/.test(t)?[t]:o(t,e)},u.braceExpand=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return u.braces(t,{...e,expand:!0})},t.exports=u},9444:(t,e,r)=>{"use strict";t.exports=r(6087)},1006:(t,e,r)=>{"use strict";const n=r(1017),o="\\\\/",i=`[^${o}]`,s="\\.",a="\\/",u="[^/]",c=`(?:${a}|$)`,l=`(?:^|${a})`,f=`${s}{1,2}${c}`,p={DOT_LITERAL:s,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:a,ONE_CHAR:"(?=.)",QMARK:u,END_ANCHOR:c,DOTS_SLASH:f,NO_DOT:`(?!${s})`,NO_DOTS:`(?!${l}${f})`,NO_DOT_SLASH:`(?!${s}{0,1}${c})`,NO_DOTS_SLASH:`(?!${f})`,QMARK_NO_DOT:`[^.${a}]`,STAR:`${u}*?`,START_ANCHOR:l},h={...p,SLASH_LITERAL:`[${o}]`,QMARK:i,STAR:`${i}*?`,DOTS_SLASH:`${s}{1,2}(?:[${o}]|$)`,NO_DOT:`(?!${s})`,NO_DOTS:`(?!(?:^|[${o}])${s}{1,2}(?:[${o}]|$))`,NO_DOT_SLASH:`(?!${s}{0,1}(?:[${o}]|$))`,NO_DOTS_SLASH:`(?!${s}{1,2}(?:[${o}]|$))`,QMARK_NO_DOT:`[^.${o}]`,START_ANCHOR:`(?:^|[${o}])`,END_ANCHOR:`(?:[${o}]|$)`};t.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:t=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:t=>!0===t?h:p}},3376:(t,e,r)=>{"use strict";const n=r(1006),o=r(8702),{MAX_LENGTH:i,POSIX_REGEX_SOURCE:s,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:u,REPLACEMENTS:c}=n,l=(t,e)=>{if("function"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();const r=`[${t.join("-")}]`;try{new RegExp(r)}catch(e){return t.map((t=>o.escapeRegex(t))).join("..")}return r},f=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,p=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");t=c[t]||t;const r={...e},h="number"==typeof r.maxLength?Math.min(i,r.maxLength):i;let d=t.length;if(d>h)throw new SyntaxError(`Input length: ${d}, exceeds maximum allowed length: ${h}`);const y={type:"bos",value:"",output:r.prepend||""},v=[y],g=r.capture?"":"?:",m=o.isWindows(e),b=n.globChars(m),w=n.extglobChars(b),{DOT_LITERAL:_,PLUS_LITERAL:E,SLASH_LITERAL:S,ONE_CHAR:x,DOTS_SLASH:A,NO_DOT:O,NO_DOT_SLASH:T,NO_DOTS_SLASH:P,QMARK:R,QMARK_NO_DOT:k,STAR:L,START_ANCHOR:C}=b,N=t=>`(${g}(?:(?!${C}${t.dot?A:_}).)*?)`,j=r.dot?"":O,I=r.dot?R:k;let F=!0===r.bash?N(r):L;r.capture&&(F=`(${F})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const M={input:t,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:v};t=o.removePrefix(t,M),d=t.length;const D=[],$=[],H=[];let B,G=y;const U=()=>M.index===d-1,V=M.peek=(e=1)=>t[M.index+e],q=M.advance=()=>t[++M.index]||"",W=()=>t.slice(M.index+1),K=(t="",e=0)=>{M.consumed+=t,M.index+=e},Y=t=>{M.output+=null!=t.output?t.output:t.value,K(t.value)},X=()=>{let t=1;for(;"!"===V()&&("("!==V(2)||"?"===V(3));)q(),M.start++,t++;return t%2!=0&&(M.negated=!0,M.start++,!0)},Q=t=>{M[t]++,H.push(t)},Z=t=>{M[t]--,H.pop()},z=t=>{if("globstar"===G.type){const e=M.braces>0&&("comma"===t.type||"brace"===t.type),r=!0===t.extglob||D.length&&("pipe"===t.type||"paren"===t.type);"slash"===t.type||"paren"===t.type||e||r||(M.output=M.output.slice(0,-G.output.length),G.type="star",G.value="*",G.output=F,M.output+=G.output)}if(D.length&&"paren"!==t.type&&(D[D.length-1].inner+=t.value),(t.value||t.output)&&Y(t),G&&"text"===G.type&&"text"===t.type)return G.value+=t.value,void(G.output=(G.output||"")+t.value);t.prev=G,v.push(t),G=t},J=(t,e)=>{const n={...w[e],conditions:1,inner:""};n.prev=G,n.parens=M.parens,n.output=M.output;const o=(r.capture?"(":"")+n.open;Q("parens"),z({type:t,value:e,output:M.output?"":x}),z({type:"paren",extglob:!0,value:q(),output:o}),D.push(n)},tt=t=>{let n,o=t.close+(r.capture?")":"");if("negate"===t.type){let i=F;if(t.inner&&t.inner.length>1&&t.inner.includes("/")&&(i=N(r)),(i!==F||U()||/^\)+$/.test(W()))&&(o=t.close=`)$))${i}`),t.inner.includes("*")&&(n=W())&&/^\.[^\\/.]+$/.test(n)){const r=p(n,{...e,fastpaths:!1}).output;o=t.close=`)${r})${i})`}"bos"===t.prev.type&&(M.negatedExtglob=!0)}z({type:"paren",extglob:!0,value:B,output:o}),Z("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(t)){let n=!1,i=t.replace(u,((t,e,r,o,i,s)=>"\\"===o?(n=!0,t):"?"===o?e?e+o+(i?R.repeat(i.length):""):0===s?I+(i?R.repeat(i.length):""):R.repeat(r.length):"."===o?_.repeat(r.length):"*"===o?e?e+o+(i?F:""):F:e?t:`\\${t}`));return!0===n&&(i=!0===r.unescape?i.replace(/\\/g,""):i.replace(/\\+/g,(t=>t.length%2==0?"\\\\":t?"\\":""))),i===t&&!0===r.contains?(M.output=t,M):(M.output=o.wrapOutput(i,M,e),M)}for(;!U();){if(B=q(),"\0"===B)continue;if("\\"===B){const t=V();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){B+="\\",z({type:"text",value:B});continue}const e=/^\\+/.exec(W());let n=0;if(e&&e[0].length>2&&(n=e[0].length,M.index+=n,n%2!=0&&(B+="\\")),!0===r.unescape?B=q():B+=q(),0===M.brackets){z({type:"text",value:B});continue}}if(M.brackets>0&&("]"!==B||"["===G.value||"[^"===G.value)){if(!1!==r.posix&&":"===B){const t=G.value.slice(1);if(t.includes("[")&&(G.posix=!0,t.includes(":"))){const t=G.value.lastIndexOf("["),e=G.value.slice(0,t),r=G.value.slice(t+2),n=s[r];if(n){G.value=e+n,M.backtrack=!0,q(),y.output||1!==v.indexOf(G)||(y.output=x);continue}}}("["===B&&":"!==V()||"-"===B&&"]"===V())&&(B=`\\${B}`),"]"!==B||"["!==G.value&&"[^"!==G.value||(B=`\\${B}`),!0===r.posix&&"!"===B&&"["===G.value&&(B="^"),G.value+=B,Y({value:B});continue}if(1===M.quotes&&'"'!==B){B=o.escapeRegex(B),G.value+=B,Y({value:B});continue}if('"'===B){M.quotes=1===M.quotes?0:1,!0===r.keepQuotes&&z({type:"text",value:B});continue}if("("===B){Q("parens"),z({type:"paren",value:B});continue}if(")"===B){if(0===M.parens&&!0===r.strictBrackets)throw new SyntaxError(f("opening","("));const t=D[D.length-1];if(t&&M.parens===t.parens+1){tt(D.pop());continue}z({type:"paren",value:B,output:M.parens?")":"\\)"}),Z("parens");continue}if("["===B){if(!0!==r.nobracket&&W().includes("]"))Q("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(f("closing","]"));B=`\\${B}`}z({type:"bracket",value:B});continue}if("]"===B){if(!0===r.nobracket||G&&"bracket"===G.type&&1===G.value.length){z({type:"text",value:B,output:`\\${B}`});continue}if(0===M.brackets){if(!0===r.strictBrackets)throw new SyntaxError(f("opening","["));z({type:"text",value:B,output:`\\${B}`});continue}Z("brackets");const t=G.value.slice(1);if(!0===G.posix||"^"!==t[0]||t.includes("/")||(B=`/${B}`),G.value+=B,Y({value:B}),!1===r.literalBrackets||o.hasRegexChars(t))continue;const e=o.escapeRegex(G.value);if(M.output=M.output.slice(0,-G.value.length),!0===r.literalBrackets){M.output+=e,G.value=e;continue}G.value=`(${g}${e}|${G.value})`,M.output+=G.value;continue}if("{"===B&&!0!==r.nobrace){Q("braces");const t={type:"brace",value:B,output:"(",outputIndex:M.output.length,tokensIndex:M.tokens.length};$.push(t),z(t);continue}if("}"===B){const t=$[$.length-1];if(!0===r.nobrace||!t){z({type:"text",value:B,output:B});continue}let e=")";if(!0===t.dots){const t=v.slice(),n=[];for(let e=t.length-1;e>=0&&(v.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),M.backtrack=!0}if(!0!==t.comma&&!0!==t.dots){const r=M.output.slice(0,t.outputIndex),n=M.tokens.slice(t.tokensIndex);t.value=t.output="\\{",B=e="\\}",M.output=r;for(const t of n)M.output+=t.output||t.value}z({type:"brace",value:B,output:e}),Z("braces"),$.pop();continue}if("|"===B){D.length>0&&D[D.length-1].conditions++,z({type:"text",value:B});continue}if(","===B){let t=B;const e=$[$.length-1];e&&"braces"===H[H.length-1]&&(e.comma=!0,t="|"),z({type:"comma",value:B,output:t});continue}if("/"===B){if("dot"===G.type&&M.index===M.start+1){M.start=M.index+1,M.consumed="",M.output="",v.pop(),G=y;continue}z({type:"slash",value:B,output:S});continue}if("."===B){if(M.braces>0&&"dot"===G.type){"."===G.value&&(G.output=_);const t=$[$.length-1];G.type="dots",G.output+=B,G.value+=B,t.dots=!0;continue}if(M.braces+M.parens===0&&"bos"!==G.type&&"slash"!==G.type){z({type:"text",value:B,output:_});continue}z({type:"dot",value:B,output:_});continue}if("?"===B){if((!G||"("!==G.value)&&!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("qmark",B);continue}if(G&&"paren"===G.type){const t=V();let e=B;if("<"===t&&!o.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===G.value&&!/[!=<:]/.test(t)||"<"===t&&!/<([!=]|\w+>)/.test(W()))&&(e=`\\${B}`),z({type:"text",value:B,output:e});continue}if(!0!==r.dot&&("slash"===G.type||"bos"===G.type)){z({type:"qmark",value:B,output:k});continue}z({type:"qmark",value:B,output:R});continue}if("!"===B){if(!0!==r.noextglob&&"("===V()&&("?"!==V(2)||!/[!=<:]/.test(V(3)))){J("negate",B);continue}if(!0!==r.nonegate&&0===M.index){X();continue}}if("+"===B){if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("plus",B);continue}if(G&&"("===G.value||!1===r.regex){z({type:"plus",value:B,output:E});continue}if(G&&("bracket"===G.type||"paren"===G.type||"brace"===G.type)||M.parens>0){z({type:"plus",value:B});continue}z({type:"plus",value:E});continue}if("@"===B){if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){z({type:"at",extglob:!0,value:B,output:""});continue}z({type:"text",value:B});continue}if("*"!==B){"$"!==B&&"^"!==B||(B=`\\${B}`);const t=a.exec(W());t&&(B+=t[0],M.index+=t[0].length),z({type:"text",value:B});continue}if(G&&("globstar"===G.type||!0===G.star)){G.type="star",G.star=!0,G.value+=B,G.output=F,M.backtrack=!0,M.globstar=!0,K(B);continue}let e=W();if(!0!==r.noextglob&&/^\([^?]/.test(e)){J("star",B);continue}if("star"===G.type){if(!0===r.noglobstar){K(B);continue}const n=G.prev,o=n.prev,i="slash"===n.type||"bos"===n.type,s=o&&("star"===o.type||"globstar"===o.type);if(!0===r.bash&&(!i||e[0]&&"/"!==e[0])){z({type:"star",value:B,output:""});continue}const a=M.braces>0&&("comma"===n.type||"brace"===n.type),u=D.length&&("pipe"===n.type||"paren"===n.type);if(!i&&"paren"!==n.type&&!a&&!u){z({type:"star",value:B,output:""});continue}for(;"/**"===e.slice(0,3);){const r=t[M.index+4];if(r&&"/"!==r)break;e=e.slice(3),K("/**",3)}if("bos"===n.type&&U()){G.type="globstar",G.value+=B,G.output=N(r),M.output=G.output,M.globstar=!0,K(B);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!s&&U()){M.output=M.output.slice(0,-(n.output+G.output).length),n.output=`(?:${n.output}`,G.type="globstar",G.output=N(r)+(r.strictSlashes?")":"|$)"),G.value+=B,M.globstar=!0,M.output+=n.output+G.output,K(B);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===e[0]){const t=void 0!==e[1]?"|$":"";M.output=M.output.slice(0,-(n.output+G.output).length),n.output=`(?:${n.output}`,G.type="globstar",G.output=`${N(r)}${S}|${S}${t})`,G.value+=B,M.output+=n.output+G.output,M.globstar=!0,K(B+q()),z({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===e[0]){G.type="globstar",G.value+=B,G.output=`(?:^|${S}|${N(r)}${S})`,M.output=G.output,M.globstar=!0,K(B+q()),z({type:"slash",value:"/",output:""});continue}M.output=M.output.slice(0,-G.output.length),G.type="globstar",G.output=N(r),G.value+=B,M.output+=G.output,M.globstar=!0,K(B);continue}const n={type:"star",value:B,output:F};!0!==r.bash?!G||"bracket"!==G.type&&"paren"!==G.type||!0!==r.regex?(M.index!==M.start&&"slash"!==G.type&&"dot"!==G.type||("dot"===G.type?(M.output+=T,G.output+=T):!0===r.dot?(M.output+=P,G.output+=P):(M.output+=j,G.output+=j),"*"!==V()&&(M.output+=x,G.output+=x)),z(n)):(n.output=B,z(n)):(n.output=".*?","bos"!==G.type&&"slash"!==G.type||(n.output=j+n.output),z(n))}for(;M.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing","]"));M.output=o.escapeLast(M.output,"["),Z("brackets")}for(;M.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing",")"));M.output=o.escapeLast(M.output,"("),Z("parens")}for(;M.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing","}"));M.output=o.escapeLast(M.output,"{"),Z("braces")}if(!0===r.strictSlashes||"star"!==G.type&&"bracket"!==G.type||z({type:"maybe_slash",value:"",output:`${S}?`}),!0===M.backtrack){M.output="";for(const t of M.tokens)M.output+=null!=t.output?t.output:t.value,t.suffix&&(M.output+=t.suffix)}return M};p.fastpaths=(t,e)=>{const r={...e},s="number"==typeof r.maxLength?Math.min(i,r.maxLength):i,a=t.length;if(a>s)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${s}`);t=c[t]||t;const u=o.isWindows(e),{DOT_LITERAL:l,SLASH_LITERAL:f,ONE_CHAR:p,DOTS_SLASH:h,NO_DOT:d,NO_DOTS:y,NO_DOTS_SLASH:v,STAR:g,START_ANCHOR:m}=n.globChars(u),b=r.dot?y:d,w=r.dot?v:d,_=r.capture?"":"?:";let E=!0===r.bash?".*?":g;r.capture&&(E=`(${E})`);const S=t=>!0===t.noglobstar?E:`(${_}(?:(?!${m}${t.dot?h:l}).)*?)`,x=t=>{switch(t){case"*":return`${b}${p}${E}`;case".*":return`${l}${p}${E}`;case"*.*":return`${b}${E}${l}${p}${E}`;case"*/*":return`${b}${E}${f}${p}${w}${E}`;case"**":return b+S(r);case"**/*":return`(?:${b}${S(r)}${f})?${w}${p}${E}`;case"**/*.*":return`(?:${b}${S(r)}${f})?${w}${E}${l}${p}${E}`;case"**/.*":return`(?:${b}${S(r)}${f})?${l}${p}${E}`;default:{const e=/^(.*?)\.(\w+)$/.exec(t);if(!e)return;const r=x(e[1]);if(!r)return;return r+l+e[2]}}},A=o.removePrefix(t,{negated:!1,prefix:""});let O=x(A);return O&&!0!==r.strictSlashes&&(O+=`${f}?`),O},t.exports=p},6087:(t,e,r)=>{"use strict";const n=r(1017),o=r(3921),i=r(3376),s=r(8702),a=r(1006),u=(t,e,r=!1)=>{if(Array.isArray(t)){const n=t.map((t=>u(t,e,r))),o=t=>{for(const e of n){const r=e(t);if(r)return r}return!1};return o}const n=(o=t)&&"object"==typeof o&&!Array.isArray(o)&&t.tokens&&t.input;var o;if(""===t||"string"!=typeof t&&!n)throw new TypeError("Expected pattern to be a non-empty string");const i=e||{},a=s.isWindows(e),c=n?u.compileRe(t,e):u.makeRe(t,e,!1,!0),l=c.state;delete c.state;let f=()=>!1;if(i.ignore){const t={...e,ignore:null,onMatch:null,onResult:null};f=u(i.ignore,t,r)}const p=(r,n=!1)=>{const{isMatch:o,match:s,output:p}=u.test(r,c,e,{glob:t,posix:a}),h={glob:t,state:l,regex:c,posix:a,input:r,output:p,match:s,isMatch:o};return"function"==typeof i.onResult&&i.onResult(h),!1===o?(h.isMatch=!1,!!n&&h):f(r)?("function"==typeof i.onIgnore&&i.onIgnore(h),h.isMatch=!1,!!n&&h):("function"==typeof i.onMatch&&i.onMatch(h),!n||h)};return r&&(p.state=l),p};u.test=(t,e,r,{glob:n,posix:o}={})=>{if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(""===t)return{isMatch:!1,output:""};const i=r||{},a=i.format||(o?s.toPosixSlashes:null);let c=t===n,l=c&&a?a(t):t;return!1===c&&(l=a?a(t):t,c=l===n),!1!==c&&!0!==i.capture||(c=!0===i.matchBase||!0===i.basename?u.matchBase(t,e,r,o):e.exec(l)),{isMatch:Boolean(c),match:c,output:l}},u.matchBase=(t,e,r,o=s.isWindows(r))=>(e instanceof RegExp?e:u.makeRe(e,r)).test(n.basename(t)),u.isMatch=(t,e,r)=>u(e,r)(t),u.parse=(t,e)=>Array.isArray(t)?t.map((t=>u.parse(t,e))):i(t,{...e,fastpaths:!1}),u.scan=(t,e)=>o(t,e),u.compileRe=(t,e,r=!1,n=!1)=>{if(!0===r)return t.output;const o=e||{},i=o.contains?"":"^",s=o.contains?"":"$";let a=`${i}(?:${t.output})${s}`;t&&!0===t.negated&&(a=`^(?!${a}).*$`);const c=u.toRegex(a,e);return!0===n&&(c.state=t),c},u.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||"string"!=typeof t)throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return!1===e.fastpaths||"."!==t[0]&&"*"!==t[0]||(o.output=i.fastpaths(t,e)),o.output||(o=i(t,e)),u.compileRe(o,e,r,n)},u.toRegex=(t,e)=>{try{const r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(t){if(e&&!0===e.debug)throw t;return/$^/}},u.constants=a,t.exports=u},3921:(t,e,r)=>{"use strict";const n=r(8702),{CHAR_ASTERISK:o,CHAR_AT:i,CHAR_BACKWARD_SLASH:s,CHAR_COMMA:a,CHAR_DOT:u,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:f,CHAR_LEFT_PARENTHESES:p,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:d,CHAR_QUESTION_MARK:y,CHAR_RIGHT_CURLY_BRACE:v,CHAR_RIGHT_PARENTHESES:g,CHAR_RIGHT_SQUARE_BRACKET:m}=r(1006),b=t=>t===l||t===s,w=t=>{!0!==t.isPrefix&&(t.depth=t.isGlobstar?1/0:1)};t.exports=(t,e)=>{const r=e||{},_=t.length-1,E=!0===r.parts||!0===r.scanToEnd,S=[],x=[],A=[];let O,T,P=t,R=-1,k=0,L=0,C=!1,N=!1,j=!1,I=!1,F=!1,M=!1,D=!1,$=!1,H=!1,B=!1,G=0,U={value:"",depth:0,isGlob:!1};const V=()=>R>=_,q=()=>(O=T,P.charCodeAt(++R));for(;R<_;){let t;if(T=q(),T!==s){if(!0===M||T===f){for(G++;!0!==V()&&(T=q());)if(T!==s)if(T!==f){if(!0!==M&&T===u&&(T=q())===u){if(C=U.isBrace=!0,j=U.isGlob=!0,B=!0,!0===E)continue;break}if(!0!==M&&T===a){if(C=U.isBrace=!0,j=U.isGlob=!0,B=!0,!0===E)continue;break}if(T===v&&(G--,0===G)){M=!1,C=U.isBrace=!0,B=!0;break}}else G++;else D=U.backslashes=!0,q();if(!0===E)continue;break}if(T!==l){if(!0!==r.noext&&!0==(T===d||T===i||T===o||T===y||T===c)&&P.charCodeAt(R+1)===p){if(j=U.isGlob=!0,I=U.isExtglob=!0,B=!0,T===c&&R===k&&(H=!0),!0===E){for(;!0!==V()&&(T=q());)if(T!==s){if(T===g){j=U.isGlob=!0,B=!0;break}}else D=U.backslashes=!0,T=q();continue}break}if(T===o){if(O===o&&(F=U.isGlobstar=!0),j=U.isGlob=!0,B=!0,!0===E)continue;break}if(T===y){if(j=U.isGlob=!0,B=!0,!0===E)continue;break}if(T===h){for(;!0!==V()&&(t=q());)if(t!==s){if(t===m){N=U.isBracket=!0,j=U.isGlob=!0,B=!0;break}}else D=U.backslashes=!0,q();if(!0===E)continue;break}if(!0===r.nonegate||T!==c||R!==k){if(!0!==r.noparen&&T===p){if(j=U.isGlob=!0,!0===E){for(;!0!==V()&&(T=q());)if(T!==p){if(T===g){B=!0;break}}else D=U.backslashes=!0,T=q();continue}break}if(!0===j){if(B=!0,!0===E)continue;break}}else $=U.negated=!0,k++}else{if(S.push(R),x.push(U),U={value:"",depth:0,isGlob:!1},!0===B)continue;if(O===u&&R===k+1){k+=2;continue}L=R+1}}else D=U.backslashes=!0,T=q(),T===f&&(M=!0)}!0===r.noext&&(I=!1,j=!1);let W=P,K="",Y="";k>0&&(K=P.slice(0,k),P=P.slice(k),L-=k),W&&!0===j&&L>0?(W=P.slice(0,L),Y=P.slice(L)):!0===j?(W="",Y=P):W=P,W&&""!==W&&"/"!==W&&W!==P&&b(W.charCodeAt(W.length-1))&&(W=W.slice(0,-1)),!0===r.unescape&&(Y&&(Y=n.removeBackslashes(Y)),W&&!0===D&&(W=n.removeBackslashes(W)));const X={prefix:K,input:t,start:k,base:W,glob:Y,isBrace:C,isBracket:N,isGlob:j,isExtglob:I,isGlobstar:F,negated:$,negatedExtglob:H};if(!0===r.tokens&&(X.maxDepth=0,b(T)||x.push(U),X.tokens=x),!0===r.parts||!0===r.tokens){let e;for(let n=0;n<S.length;n++){const o=e?e+1:k,i=S[n],s=t.slice(o,i);r.tokens&&(0===n&&0!==k?(x[n].isPrefix=!0,x[n].value=K):x[n].value=s,w(x[n]),X.maxDepth+=x[n].depth),0===n&&""===s||A.push(s),e=i}if(e&&e+1<t.length){const n=t.slice(e+1);A.push(n),r.tokens&&(x[x.length-1].value=n,w(x[x.length-1]),X.maxDepth+=x[x.length-1].depth)}X.slashes=S,X.parts=A}return X}},8702:(t,e,r)=>{"use strict";const n=r(1017),o="win32"===process.platform,{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:u}=r(1006);e.isObject=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),e.hasRegexChars=t=>a.test(t),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=t=>t.replace(u,"\\$1"),e.toPosixSlashes=t=>t.replace(i,"/"),e.removeBackslashes=t=>t.replace(s,(t=>"\\"===t?"":t)),e.supportsLookbehinds=()=>{const t=process.version.slice(1).split(".").map(Number);return 3===t.length&&t[0]>=9||8===t[0]&&t[1]>=10},e.isWindows=t=>t&&"boolean"==typeof t.windows?t.windows:!0===o||"\\"===n.sep,e.escapeLast=(t,r,n)=>{const o=t.lastIndexOf(r,n);return-1===o?t:"\\"===t[o-1]?e.escapeLast(t,r,o-1):`${t.slice(0,o)}\\${t.slice(o)}`},e.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r},e.wrapOutput=(t,e={},r={})=>{let n=`${r.contains?"":"^"}(?:${t})${r.contains?"":"$"}`;return!0===e.negated&&(n=`(?:^(?!${n}).*$)`),n}},4375:(t,e,r)=>{let n;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:r.g):t=>(n||(n=Promise.resolve())).then(t).catch((t=>setTimeout((()=>{throw t}),0)))},3650:t=>{"use strict";t.exports=function(t){var e=new t,r=e;return{get:function(){var n=e;return n.next?e=n.next:(e=new t,r=e),n.next=null,n},release:function(t){r.next=t,r=t}}}},4595:(t,e,r)=>{t.exports=function(t,e){let r,o,i,s=!0;function a(t){function o(){e&&e(t,r),e=null}s?n(o):o()}function u(t,e,n){r[t]=n,(0==--o||e)&&a(e)}Array.isArray(t)?(r=[],o=t.length):(i=Object.keys(t),r={},o=i.length),o?i?i.forEach((function(e){t[e]((function(t,r){u(e,t,r)}))})):t.forEach((function(t,e){t((function(t,r){u(e,t,r)}))})):a(null),s=!1};const n=r(4375)},4153:t=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,r=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};t.exports=function(t,o={}){if(o=Object.assign({},n,o),!t||"string"!=typeof t)return t;let i=t.trim();if(void 0!==o.skipLike&&o.skipLike.test(i))return t;if(o.hex&&e.test(i))return Number.parseInt(i,16);{const e=r.exec(i);if(e){const r=e[1],n=e[2];let a=(s=e[3])&&-1!==s.indexOf(".")?("."===(s=s.replace(/0+$/,""))?s="0":"."===s[0]?s="0"+s:"."===s[s.length-1]&&(s=s.substr(0,s.length-1)),s):s;const u=e[4]||e[6];if(!o.leadingZeros&&n.length>0&&r&&"."!==i[2])return t;if(!o.leadingZeros&&n.length>0&&!r&&"."!==i[1])return t;{const e=Number(i),s=""+e;return-1!==s.search(/[eE]/)||u?o.eNotation?e:t:-1!==i.indexOf(".")?"0"===s&&""===a||s===a||r&&s==="-"+a?e:t:n?a===s||r+a===s?e:t:i===s||i===r+s?e:t}}return t}var s}},5702:(t,e,r)=>{"use strict";const n=r(9924),o=(t,e,r)=>{if(!1===n(t))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===e||t===e)return String(t);if(!1===n(e))throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...r};"boolean"==typeof i.strictZeros&&(i.relaxZeros=!1===i.strictZeros);let u=t+":"+e+"="+String(i.relaxZeros)+String(i.shorthand)+String(i.capture)+String(i.wrap);if(o.cache.hasOwnProperty(u))return o.cache[u].result;let c=Math.min(t,e),l=Math.max(t,e);if(1===Math.abs(c-l)){let r=t+"|"+e;return i.capture?`(${r})`:!1===i.wrap?r:`(?:${r})`}let f=h(t)||h(e),p={min:t,max:e,a:c,b:l},d=[],y=[];return f&&(p.isPadded=f,p.maxLen=String(p.max).length),c<0&&(y=s(l<0?Math.abs(l):1,Math.abs(c),p,i),c=p.a=0),l>=0&&(d=s(c,l,p,i)),p.negatives=y,p.positives=d,p.result=function(t,e,r){let n=a(t,e,"-",!1)||[],o=a(e,t,"",!1)||[],i=a(t,e,"-?",!0)||[];return n.concat(i).concat(o).join("|")}(y,d),!0===i.capture?p.result=`(${p.result})`:!1!==i.wrap&&d.length+y.length>1&&(p.result=`(?:${p.result})`),o.cache[u]=p,p.result};function i(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=function(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}(t,e),o=n.length,i="",s=0;for(let t=0;t<o;t++){let[e,r]=n[t];e===r?i+=e:"0"!==e||"9"!==r?i+=`[${a=e}${(u=r)-a==1?"":"-"}${u}]`:s++}var a,u;return s&&(i+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:i,count:[s],digits:o}}function s(t,e,r,n){let o,s=function(t,e){let r=1,n=1,o=l(t,r),i=new Set([e]);for(;t<=o&&o<=e;)i.add(o),r+=1,o=l(t,r);for(o=f(e+1,n)-1;t<o&&o<=e;)i.add(o),n+=1,o=f(e+1,n)-1;return i=[...i],i.sort(u),i}(t,e),a=[],c=t;for(let t=0;t<s.length;t++){let e=s[t],u=i(String(c),String(e),n),l="";r.isPadded||!o||o.pattern!==u.pattern?(r.isPadded&&(l=d(e,r,n)),u.string=l+u.pattern+p(u.count),a.push(u),c=e+1,o=u):(o.count.length>1&&o.count.pop(),o.count.push(u.count[0]),o.string=o.pattern+p(o.count),c=e+1)}return a}function a(t,e,r,n,o){let i=[];for(let o of t){let{string:t}=o;n||c(e,"string",t)||i.push(r+t),n&&c(e,"string",t)&&i.push(r+t)}return i}function u(t,e){return t>e?1:e>t?-1:0}function c(t,e,r){return t.some((t=>t[e]===r))}function l(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function f(t,e){return t-t%Math.pow(10,e)}function p(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function h(t){return/^-?(0+)\d/.test(t)}function d(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),o=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return o?"0?":"0";case 2:return o?"0{0,2}":"00";default:return o?`0{0,${n}}`:`0{${n}}`}}o.cache={},o.clearCache=()=>o.cache={},t.exports=o},28:(t,e,r)=>{"use strict";var n=r(2081),o=n.spawn,i=n.exec;function s(t,e,r){var n={};try{Object.keys(t).forEach((function(r){t[r].forEach((function(t){n[t]||(a(t,e),n[t]=1)})),n[r]||(a(r,e),n[r]=1)}))}catch(t){if(r)return r(t);throw t}if(r)return r()}function a(t,e){try{process.kill(parseInt(t,10),e)}catch(t){if("ESRCH"!==t.code)throw t}}function u(t,e,r,n,o){var i=n(t),s="";i.stdout.on("data",(function(t){t=t.toString("ascii"),s+=t})),i.on("close",(function(i){delete r[t],0==i?s.match(/\d+/g).forEach((function(i){i=parseInt(i,10),e[t].push(i),e[i]=[],r[i]=1,u(i,e,r,n,o)})):0==Object.keys(r).length&&o()}))}t.exports=function(t,e,r){if("function"==typeof e&&void 0===r&&(r=e,e=void 0),t=parseInt(t),Number.isNaN(t)){if(r)return r(new Error("pid must be a number"));throw new Error("pid must be a number")}var n={},a={};switch(n[t]=[],a[t]=1,process.platform){case"win32":i("taskkill /pid "+t+" /T /F",r);break;case"darwin":u(t,n,a,(function(t){return o("pgrep",["-P",t])}),(function(){s(n,e,r)}));break;default:u(t,n,a,(function(t){return o("ps",["-o","pid","--no-headers","--ppid",t])}),(function(){s(n,e,r)}))}}},2081:t=>{"use strict";t.exports=require("child_process")},2361:t=>{"use strict";t.exports=require("events")},7147:t=>{"use strict";t.exports=require("fs")},2037:t=>{"use strict";t.exports=require("os")},1017:t=>{"use strict";t.exports=require("path")},2781:t=>{"use strict";t.exports=require("stream")},3837:t=>{"use strict";t.exports=require("util")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{activate:()=>Xe,deactivate:()=>Ze}),r(3367);const t=require("vscode");var e,o=r(1017),i=r.n(o)().join("resources","3rd-party","nunit"),s="\r\n",a=s+s;function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function l(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t,e,r){return(e=p(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===u(e)?e:String(e)}!function(t){t.OpenDiscoveryErrors="nuninitTestRunner.openDiscoveryErrors",t.OpenTestCaseOutput="nuninitTestRunner.openTestCaseOutput",t.CleanTestCaseOutput="nuninitTestRunner.cleanTestCaseOutput",t.ExpandAll="nuninitTestRunner.expandAll"}(e||(e={}));var h,d=l((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){if(t){if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w(n.key),n)}}function b(t,e,r){return(e=w(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}f(d,"IgnoredTag",new t.TestTag("Ignored")),f(d,"ExplicitTag",new t.TestTag("Explicit")),f(d,"RunnableTag",new t.TestTag("Runnable")),f(d,"DicsoveryErrorTag",new t.TestTag("DicsoveryError")),function(t){t[t.Default=0]="Default",t[t.Passed=1]="Passed",t[t.Failed=2]="Failed",t[t.Ignored=3]="Ignored"}(h||(h={}));var _=function(){function r(t,e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),b(this,"testRun",void 0),b(this,"counters",void 0),b(this,"statusBar",void 0),b(this,"isRunningInternal",!0),b(this,"outputStorage",void 0),this.testRun=t,this.counters=e,this.statusBar=n,this.isRunningInternal=!0,this.testRun.token.onCancellationRequested((function(){o.isRunningInternal=!1})),this.statusBar.setNoMessage(),this.outputStorage=new Map,this.cleanOutput()}var n,o;return n=r,o=[{key:"token",get:function(){return this.testRun.token}},{key:"isRunning",get:function(){return this.isRunningInternal}},{key:"runnedIds",get:function(){return this.counters.runnedIds}},{key:"cleanOutput",value:function(){t.commands.executeCommand("setContext","nuninitTestRunner.context.withOutput",[]),t.commands.executeCommand(e.CleanTestCaseOutput)}},{key:"appendOutput",value:function(t,e,r,n,o){this.appendDefaultOutput(t,e,r,n),this.appendCustomOutput(t,e,r,n)}},{key:"appendDefaultOutput",value:function(t,e,r,n){if(void 0!==t||void 0!==e){var o=t?this.markedForOutput(t,n)+s+e:e;this.testRun.appendOutput(o,void 0,r)}}},{key:"appendCustomOutput",value:function(e,r,n,o){if(null!=n){var i=e?s+this.colorizeForConsole(e,o)+a+r:r;this.outputStorage.has(n.id)?this.outputStorage.set(n.id,this.appendNewLineIfNeed(this.outputStorage.get(n.id))+i):void 0!==i&&this.outputStorage.set(n.id,i),t.commands.executeCommand("setContext","nuninitTestRunner.context.withOutput",function(t){if(Array.isArray(t))return g(t)}(u=this.outputStorage.keys())||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(u)||v(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}var u}},{key:"appendNewLineIfNeed",value:function(t){return t.endsWith(s)?t:t+s}},{key:"colorizeForConsole",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.Default;return e==h.Failed?"[31m"+t+"[0m":t}},{key:"markedForOutput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.Default;return e==h.Failed?"❌ "+t:t}},{key:"getOutput",value:function(t){return this.outputStorage.get(t)}},{key:"enqueued",value:function(t){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=v(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}(this.runnedIds.map((function(e){return t.get(e)})));try{for(r.s();!(e=r.n()).done;){var n=e.value;n&&(n.children.size||this.counters.queueIds.add(n),this.testRun.enqueued(n),n.description="")}}catch(t){r.e(t)}finally{r.f()}}},{key:"started",value:function(t){this.testRun.started(t)}},{key:"passedSuite",value:function(t,e){this.testRun.passed(t)}},{key:"passed",value:function(t,e){this.counters.faieldIds.includes(t.id)||(this.testRun.passed(t),this.counters.passed++,this.counters.queueIds.delete(t)),this.updateTestCountStatusBar()}},{key:"failed",value:function(t,e,r){this.testRun.failed(t,e),this.counters.faieldIds.push(t.id),this.counters.queueIds.delete(t),this.updateTestCountStatusBar()}},{key:"skipped",value:function(t,e){this.testRun.skipped(t),this.counters.skipped++,this.counters.queueIds.delete(t),this.updateTestCountStatusBar()}},{key:"end",value:function(){this.testRun.token.isCancellationRequested?this.setDescription("Run was cancelled"):this.setDescription("Test has not run"),this.testRun.end(),this.isRunningInternal=!1,this.updateTestCountStatusBar()}},{key:"setDescription",value:function(t){this.counters.queueIds.forEach((function(e){e.description=t}))}},{key:"updateTestCountStatusBar",value:function(){var t=[this.counters.runnedTestCount&&"$(test-view-icon) ".concat(this.counters.runnedTestCount),this.counters.passed&&"$(pass) ".concat(this.counters.passed),this.counters.faieldIds.length&&"$(error) ".concat(this.counters.faieldIds.length),this.counters.skipped&&"$(debug-step-over) ".concat(this.counters.skipped),this.counters.errored&&"$(markers-view-icon) ".concat(this.counters.errored),this.counters.queueIds.size&&"$(debug-breakpoint-unverified) ".concat(this.counters.queueIds.size)];this.statusBar.set("".concat(t.filter((function(t){return 0!=t})).join(" ")))}}],o&&m(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),r}();function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function x(t,e,r){return e&&S(t.prototype,e),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A(t,e,r){return(e=O(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t){var e=function(t,e){if("object"!==E(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===E(e)?e:String(e)}var T=x((function t(e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,"runnedIds",[]),A(this,"faieldIds",[]),A(this,"passed",0),A(this,"skipped",0),A(this,"errored",0),A(this,"runnedTestCount",0),A(this,"hasNotRun",0),A(this,"queueIds",new Set),this.runnedIds=null!=e?e:[],this.runnedTestCount=null!==(r=null==e?void 0:e.length)&&void 0!==r?r:0}));function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L(n.key),n)}}function k(t,e,r){return(e=L(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L(t){var e=function(t,e){if("object"!==P(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===P(e)?e:String(e)}var C=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,"controller",void 0),k(this,"statusBar",void 0),this.controller=e,this.statusBar=r}var e,r;return e=t,(r=[{key:"create",value:function(t,e,r,n){var o=new T(t),i=this.controller.createTestRun(e,r,n);return new _(i,o,this.statusBar)}}])&&R(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function j(t,e){if(t){if("string"==typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(t,e):void 0}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==N(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===N(o)?o:String(o)),n)}var o}var M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"getLeavesFromItems",value:function(t){var e,r,n=new Set,o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=j(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}(t);try{for(o.s();!(e=o.n()).done;)!function t(e){e.children.size||n.add(e),e.children.forEach((function(e){return t(e)}))}(e.value)}catch(t){o.e(t)}finally{o.f()}return function(t){if(Array.isArray(t))return I(t)}(r=n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||j(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}],null&&F(e.prototype,null),r&&F(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function $(){$=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,s=Object.create(i.prototype),a=new A(o||[]);return n(s,"_invoke",{value:_(t,r,a)}),s}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,s,a){var u=l(t[n],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==D(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return o("throw",t,s,a)}))}a(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===f)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),u(m,a,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function H(t){return function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return B(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function U(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){G(i,n,o,s,a,"next",t)}function a(t){G(i,n,o,s,a,"throw",t)}s(void 0)}))}}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W(n.key),n)}}function q(t,e,r){return(e=W(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W(t){var e=function(t,e){if("object"!==D(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===D(e)?e:String(e)}var K=function(){function e(r,n,o,i){var s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),q(this,"ctrl",void 0),q(this,"profile",void 0),q(this,"statusBar",void 0),q(this,"nunitConsole",void 0),q(this,"nunitTestDiscoverer",void 0),q(this,"nunitTestRunFactory",void 0),q(this,"testRun",void 0),q(this,"testItemsIdMap",new Map),q(this,"testItemsNameMap",new Map),q(this,"fullNameIdMap",new Map),q(this,"handleRunTests",function(){var t=U($().mark((function t(e,r){var n;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.detectIdForRun(e),t.next=3,s.createRunAndStart(H(n),e);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),this.ctrl=r,this.statusBar=n,this.nunitConsole=o,this.nunitTestDiscoverer=i,this.nunitTestRunFactory=new C(this.ctrl,this.statusBar),this.profile=this.ctrl.createRunProfile("Run",t.TestRunProfileKind.Run,this.handleRunTests,!0)}var r,n,o,i,a,u;return r=e,n=[{key:"getTestOutput",value:function(t){var e;return null===(e=this.testRun)||void 0===e?void 0:e.getOutput(t)}},{key:"updateAll",value:(u=U($().mark((function t(e){var r;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nunitTestDiscoverer.discoverTest(e);case 2:(r=t.sent)&&(this.testItemsIdMap=r.testItemsIdMap,this.testItemsNameMap=r.testItemsNameMap,this.fullNameIdMap=r.fullNameIdMap);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"detectIdForRun",value:function(t){var e=t.exclude?new Set(M.getLeavesFromItems(H(t.exclude)).map((function(t){return t.id}))):new Set,r=t.include?H(t.include):H(this.ctrl.items).map((function(t){return t[1]})),n=new Set;return M.getLeavesFromItems(r).map((function e(r){var n;if(r.tags.includes(d.ExplicitTag)&&(null===(n=t.include)||void 0===n||!n.includes(r))){if(null==r.parent)return;return e(r.parent)}return r})).forEach((function(t){t&&!e.has(t.id)&&n.add(t.id)})),n}},{key:"createRunAndStart",value:(a=U($().mark((function t(e,r){var n,o;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null!==(n=this.testRun)&&void 0!==n&&n.isRunning||0==e.length)&&this.nunitTestDiscoverer.isReady){t.next=3;break}return console.log("NotRun",null===(o=this.testRun)||void 0===o?void 0:o.isRunning,0==e.length,!this.nunitTestDiscoverer.isReady),t.abrupt("return");case 3:return this.testRun=this.nunitTestRunFactory.create(e,r,"Run",!1),t.next=6,this.runInBatches(this.testRun);case 6:this.testRun.end();case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"runInBatches",value:(i=U($().mark((function e(r){var n,o,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.enqueued(this.testItemsIdMap),e.prev=1,n=0,o=1e3;case 4:if(!(n<r.runnedIds.length)){e.next=10;break}return i=r.runnedIds.slice(n,n+=o),e.next=8,this.run(i,r);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.window.showErrorMessage("An error occurred while running the tests. "+e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(t){return i.apply(this,arguments)})},{key:"run",value:(o=U($().mark((function e(r,n){var o=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.nunitConsole.runTests({include:r},(function(e){var r;if(!n.token.isCancellationRequested&&e&&null!=e.props.name&&null!=e.props.testId){var i,a=e.props.testId,u=e.props.name;null!==(r=u)&&void 0!==r&&r.endsWith(".dll")&&(u=o.fullNameIdMap.get(a));var c=o.testItemsNameMap.get(u);if(1==(null==c?void 0:c.length))i=c[0];else if(c&&c.length>1){var l=c.filter((function(t){return t.id==a}));1==l.length&&(i=l[0])}if(null==i){var f="COULDN'T MAP TEST CASE BY EVENT. EventPropsId=".concat(a,", EventPropsName=").concat(u,", testItemsByNameLength=").concat(null==c?void 0:c.length);throw t.window.showErrorMessage(f),new Error(f)}if("testSuiteStarted"==e.type)n.started(i);else if("testSuiteFinished"==e.type)n.started(i);else if("testStarted"==e.type)n.started(i);else if("testFinished"==e.type)n.passed(i);else if("testFailed"==e.type){var p;n.failed(i,new t.TestMessage(null!==(p=e.props.message)&&void 0!==p?p:""));var y="Failed: "+e.props.name,v=e.props.message+s+e.props.details;n.appendOutput(y,v,i,h.Failed)}else if("testIgnored"==e.type){n.skipped(i);var g=e.props.name,m=e.props.message;i.tags.includes(d.ExplicitTag)?(i.description="Explicit",n.appendOutput("Explicit : "+g,m,i)):i.tags.includes(d.IgnoredTag)?(i.description="Ignored",n.appendOutput("Ignored: "+g,m,i)):(i.description="Skip",n.appendOutput("Skip: "+g,m,i))}else"testStdOut"==e.type||"testStdErr"==e.type?e.props.out&&n.appendOutput(void 0,e.props.out,i):e.type.startsWith("flow")||console.error("undef event type",e.type,e)}}),n.token);case 2:case"end":return e.stop()}}),e,this)}))),function(t,e){return o.apply(this,arguments)})}],n&&V(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(),Y=r(2081),X=r(28),Q=r.n(X);function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Z(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Z(o)?o:String(o)),n)}var o}var J=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"createShellProcess",value:function(t,e,r){return new Ot({args:e||[],command:t,workingDirectory:r})}},{key:"killTreeAsync",value:function(t){return new Promise((function(e,r){Q()(t,"SIGKILL",(function(t){t?r(t):e()}))}))}}],null&&z(e.prototype,null),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(){et=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,s=Object.create(i.prototype),a=new A(o||[]);return n(s,"_invoke",{value:_(t,r,a)}),s}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,s,a){var u=l(t[n],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==tt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return o("throw",t,s,a)}))}a(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===f)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),u(m,a,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function rt(t){return function(t){if(Array.isArray(t))return st(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||it(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function ot(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=it(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function it(t,e){if(t){if("string"==typeof t)return st(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(t,e):void 0}}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ft(n.key),n)}}function ct(t,e,r){return e&&ut(t.prototype,e),r&&ut(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lt(t,e,r){return(e=ft(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ft(t){var e=function(t,e){if("object"!==tt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===tt(e)?e:String(e)}var pt=function(){function t(){at(this,t),lt(this,"listeners",[])}return ct(t,[{key:"emit",value:function(){var t,e=ot(this.listeners);try{for(e.s();!(t=e.n()).done;){var r=t.value;r.apply(void 0,arguments)}}catch(t){e.e(t)}finally{e.f()}}},{key:"subscribe",value:function(t){var e=this;return this.listeners.push(t),{unsubscribe:function(){var r=e.listeners.indexOf(t);r>=0&&e.listeners.splice(r,1)}}}}]),t}(),ht=function(){function t(){at(this,t),lt(this,"listeners",[])}var e,r;return ct(t,[{key:"emit",value:(e=et().mark((function t(){var e,r,n,o,i=arguments;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=rt(this.listeners),r=ot(e),t.prev=2,r.s();case 4:if((n=r.n()).done){t.next=15;break}return o=n.value,t.prev=6,t.next=9,o.apply(void 0,i);case 9:t.next=13;break;case 11:t.prev=11,t.t0=t.catch(6);case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(2),r.e(t.t1);case 20:return t.prev=20,r.f(),t.finish(20);case 23:case"end":return t.stop()}}),t,this,[[2,17,20,23],[6,11]])})),r=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(t){nt(i,n,o,s,a,"next",t)}function a(t){nt(i,n,o,s,a,"throw",t)}s(void 0)}))},function(){return r.apply(this,arguments)})},{key:"subscribe",value:function(t){var e=this;return this.listeners.push(t),{unsubscribe:function(){var r=e.listeners.indexOf(t);r>=0&&e.listeners.splice(r,1)}}}}]),t}();function dt(){return new pt}function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gt(){gt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,s=Object.create(i.prototype),a=new A(o||[]);return n(s,"_invoke",{value:_(t,r,a)}),s}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,s,a){var u=l(t[n],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==yt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return o("throw",t,s,a)}))}a(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===f)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),u(m,a,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function mt(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function bt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){mt(i,n,o,s,a,"next",t)}function a(t){mt(i,n,o,s,a,"throw",t)}s(void 0)}))}}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xt(n.key),n)}}function _t(t,e,r){return e&&wt(t.prototype,e),r&&wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function St(t,e,r){return(e=xt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xt(t){var e=function(t,e){if("object"!==yt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===yt(e)?e:String(e)}var At=_t((function t(){Et(this,t)}));St(At,"onExit",new ht);var Ot=function(){function t(e){var r=this;Et(this,t),St(this,"startInfo",void 0),St(this,"process",void 0),St(this,"onStdOut",dt()),St(this,"onStdErr",dt()),St(this,"onClose",dt()),St(this,"subscription",void 0),St(this,"handleExit",bt(gt().mark((function t(){return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.kill();case 2:case"end":return t.stop()}}),t)})))),this.startInfo=e}var e;return _t(t,[{key:"kill",value:(e=bt(gt().mark((function t(){var e,r,n,o;return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.subscription&&this.subscription.unsubscribe(),null==(null==(n=this.process)?void 0:n.exitCode)){t.next=7;break}return this.process=void 0,t.abrupt("return");case 7:if(null!=n){t.next=9;break}throw new Error("Process not started");case 9:return o=n.pid,this.process=void 0,null===(e=n.stderr)||void 0===e||e.pause(),null===(r=n.stdout)||void 0===r||r.pause(),t.next=15,J.killTreeAsync(o);case 15:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"start",value:function(){var t,e,r,n=this;this.subscription=At.onExit.subscribe(this.handleExit),this.process=(0,Y.spawn)(this.startInfo.command,function(t){if(Array.isArray(t))return vt(t)}(r=this.startInfo.args)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return vt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vt(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),{cwd:this.startInfo.workingDirectory}),null===(t=this.process.stdout)||void 0===t||t.on("data",(function(t){n.onStdOut.emit(t.toString())})),null===(e=this.process.stderr)||void 0===e||e.on("data",(function(t){n.onStdErr.emit(t.toString())})),this.process.on("close",(function(t){n.onClose.emit(t)}))}},{key:"waitForExit",value:function(){var t=this.process;if(null!=t)return new Promise((function(e){t.on("exit",(function(t){e(t)}))}));throw new Error("No process started")}}]),t}(),Tt=r(7147),Pt=r(3837),Rt=r(2037),kt=r.n(Rt),Lt=r(6932);function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Nt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Dt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function jt(){jt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,s=Object.create(i.prototype),a=new A(o||[]);return n(s,"_invoke",{value:_(t,r,a)}),s}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,s,a){var u=l(t[n],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Ct(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return o("throw",t,s,a)}))}a(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===f)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),u(m,a,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function It(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function Ft(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){It(i,n,o,s,a,"next",t)}function a(t){It(i,n,o,s,a,"throw",t)}s(void 0)}))}}function Mt(t){return function(t){if(Array.isArray(t))return $t(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Dt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(t,e){if(t){if("string"==typeof t)return $t(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(t,e):void 0}}function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bt(n.key),n)}}function Bt(t){var e=function(t,e){if("object"!==Ct(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ct(e)?e:String(e)}function Gt(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function Ut(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,qt(t,e,"get"))}function Vt(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,qt(t,e,"set"),r),r}function qt(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Wt,Kt=(0,Pt.promisify)(Tt.readFile),Yt=(0,Pt.promisify)(Tt.rm);!function(t){t.Project="Project",t.Assembly="Assembly",t.TestSuite="TestSuite",t.TestFixture="TestFixture",t.ParameterizedFixture="ParameterizedFixture",t.ParameterizedMethod="ParameterizedMethod",t.TestCase="TestCase"}(Wt||(Wt={}));var Xt=new WeakMap,Qt=new WeakMap,Zt=function(){function t(e,r,n){var o,i,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Gt(this,Xt,{writable:!0,value:void 0}),Gt(this,Qt,{writable:!0,value:void 0}),o=this,s=void 0,(i=Bt(i="baseTempPath"))in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,this.baseTempPath=null!=n?n:kt().tmpdir(),Vt(this,Xt,e),Vt(this,Qt,r)}var e,r,n,i,s;return e=t,r=[{key:"runNunitConsoleAndWaitFinish",value:function(t,e){var r=this;return new Promise((function(n,i){(0,Y.execFile)("dotnet",["exec",(0,o.join)(Ut(r,Xt),"nunit3-console.dll")].concat(Mt(t)),e,(function(t){t?(console.error(t),i(t)):n()}))}))}},{key:"discoverTests",value:(s=Ft(jt().mark((function t(e){var r,n,i,s,a,u,c,l;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=function(t){var e={};if(t&&null!=t.property){var r,n=Nt(Array.isArray(t.property)?t.property:[t.property]);try{for(n.s();!(r=n.n()).done;){var o=r.value;e[o["@_name"]]=o["@_value"]}}catch(t){n.e(t)}finally{n.f()}}return e},c=function(t){var e=[];if(null!=t["test-suite"]){var r,n=Nt(Array.isArray(t["test-suite"])?t["test-suite"]:[t["test-suite"]]);try{for(n.s();!(r=n.n()).done;){var o=r.value;e.push({type:o["@_type"],id:o["@_id"],name:o["@_name"],fullName:o["@_fullname"],children:c(o),runState:o["@_runstate"],props:l(o.properties),testCaseCount:o["@_testcasecount"]})}}catch(t){n.e(t)}finally{n.f()}}if(null!=t["test-case"]){var i,s=Nt(Array.isArray(t["test-case"])?t["test-case"]:[t["test-case"]]);try{for(s.s();!(i=s.n()).done;){var a=i.value;e.push({type:Wt.TestCase,id:a["@_id"],name:a["@_name"],fullName:a["@_fullname"],runState:a["@_runstate"],props:l(a.properties)})}}catch(t){s.e(t)}finally{s.f()}}return e},t.next=4,Ut(this,Qt).getPaths();case 4:return r=t.sent,n=(0,o.join)(this.baseTempPath,"result.xml"),t.next=8,Yt(n,{force:!0,maxRetries:3});case 8:return i=J.createShellProcess("dotnet",["exec",(0,o.join)(Ut(this,Xt),"nunit3-console.dll")].concat(Mt(r),["--explore="+n])),null==e||e.onCancellationRequested(function(){var t=Ft(jt().mark((function t(e){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.kill();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),i.start(),t.next=13,i.waitForExit();case 13:if(null==e||!e.isCancellationRequested){t.next=15;break}return t.abrupt("return",void 0);case 15:return s=void 0,t.prev=16,t.next=19,Kt(n,"utf-8");case 19:a=t.sent,u=new Lt.XMLParser({ignoreAttributes:!1}),s=u.parse(a),t.next=27;break;case 24:return t.prev=24,t.t0=t.catch(16),t.abrupt("return",[]);case 27:return t.abrupt("return",c(s["test-run"]));case 28:case"end":return t.stop()}}),t,this,[[16,24]])}))),function(t){return s.apply(this,arguments)})},{key:"getTestCaseIdsToExecute",value:(i=Ft(jt().mark((function t(e,r){var n,i,s,a,u,c;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ut(this,Qt).getPaths();case 2:return n=t.sent,i=this.baseTempPath,s=(0,o.join)(i,"result.txt"),a=[].concat(Mt(n),["--explore="+(0,o.join)(i,"result.txt;format=cases"),"--test-name-format={m}{a}||{i}","--encoding=utf-8"]),e.include&&a.push("--where",null===(u=e.include)||void 0===u?void 0:u.map((function(t){return"id == ".concat(t)})).join(" || ")),t.next=9,this.runNunitConsoleAndWaitFinish(a,{cwd:void 0,signal:r});case 9:return t.next=11,Kt(s,"utf-8");case 11:return c=t.sent,t.abrupt("return",c.split("\n").map((function(t){var e;return null!==(e=t.trim().split("||")[1])&&void 0!==e?e:""})).filter((function(t){return t})));case 13:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"teamcityLineToEvent",value:function(t){var e,r,n=/([^\s=]+?)='(([^']|((?<=\|)'))*)'/gi,o=/##teamcity\[(\w*)(?:\s+(([^\]]|((?<=\|)\]))*))?\]/i.exec(t);if(null!=o){for(var i,s={type:null!==(e=o[1])&&void 0!==e?e:"",props:{}};i=n.exec(null!==(a=o[2])&&void 0!==a?a:"");){var a,u,c;s.props[null!==(u=i[1])&&void 0!==u?u:""]=null!==(c=this.unescape(i[2]))&&void 0!==c?c:""}return s.props.testId=(null===(r=s.props.flowId)||void 0===r?void 0:r.split("_")[2])||"",s}}},{key:"unescape",value:function(t){return t?t.replace(/(\|(0x.{4})|(<colon>)|(\|(\[|\]|\||'))|(\|r\|n))/g,(function(t,e,r,n,o,i,s){if(r){var a=String.fromCharCode(parseInt(r,16));return/(?:[ -~\xA0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/.test(a)?a:"\\u".concat(r.substring(2))}return n?":":o?i:s?"\r\n":void 0})):t}},{key:"runTests",value:(n=Ft(jt().mark((function t(e,r,n){var i=this;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,s){Ft(jt().mark((function a(){var u,c,l,f,p;return jt().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ut(i,Qt).getPaths(!0);case 2:u=a.sent,c=["exec",(0,o.join)(Ut(i,Xt),"nunit3-console.dll")].concat(Mt(u),["--where",e.include.map((function(t){return"id == ".concat(t)})).join(" || "),"--teamcity","--noresult"]),l=J.createShellProcess("dotnet",c),console.log("dotnet "+c.join(" ")),f="",p=function(t){if(f+=t,t.includes("NUnitEngineException")&&console.error(t),f.includes("\n")){var e,n=f.split("\n").map((function(t){return t.replaceAll("\r","")}));f=null!==(e=n.slice(-1)[0])&&void 0!==e?e:"";var o,s=Nt(n.slice(0,-1));try{for(s.s();!(o=s.n()).done;){var a=o.value;/^##teamcity/.test(a)&&r(i.teamcityLineToEvent(a))}}catch(t){s.e(t)}finally{s.f()}}},l.onStdOut.subscribe(p),l.onStdErr.subscribe(console.error),l.onClose.subscribe((function(e){null===e||e>=0&&e<=100||null!=n&&n.isCancellationRequested?t():s("NUnit Console process terminated with Exit Code ".concat(e))}));try{l.start()}catch(t){s(t)}null==n||n.onCancellationRequested(function(){var t=Ft(jt().mark((function t(e){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.kill();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 13:case"end":return a.stop()}}),a)})))()})));case 1:case"end":return t.stop()}}),t)}))),function(t,e,r){return n.apply(this,arguments)})}],r&&Ht(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),zt=r(3294),Jt=r.n(zt);function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(){ee=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,s=Object.create(i.prototype),a=new A(o||[]);return n(s,"_invoke",{value:_(t,r,a)}),s}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,s,a){var u=l(t[n],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==te(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return o("throw",t,s,a)}))}a(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===f)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),u(m,a,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function re(t){return function(t){if(Array.isArray(t))return ie(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||oe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=oe(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function oe(t,e){if(t){if("string"==typeof t)return ie(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(t,e):void 0}}function ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function se(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ce(n.key),n)}}function ue(t,e,r){return(e=ce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ce(t){var e=function(t,e){if("object"!==te(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===te(e)?e:String(e)}var le=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ue(this,"cache",[]),ue(this,"patterns",[]),ue(this,"workspaceFoldersPaths",[]),this.workspaceFoldersPaths=e,this.patterns=r}var e,r,n,i;return e=t,r=[{key:"getPaths",value:(n=ee().mark((function t(e){var r,n,i,s,a=this;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!this.cache.length){t.next=2;break}return t.abrupt("return",this.cache);case 2:r=[],n=ne(this.workspaceFoldersPaths),t.prev=4,s=ee().mark((function t(){var e,n;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=i.value)){t.next=6;break}return t.next=4,Jt()(a.patterns,{cwd:e});case 4:n=t.sent,r=[].concat(re(r),re(n.map((function(t){return o.resolve(e,t)}))));case 6:case"end":return t.stop()}}),t)})),n.s();case 7:if((i=n.n()).done){t.next=11;break}return t.delegateYield(s(),"t0",9);case 9:t.next=7;break;case 11:t.next=16;break;case 13:t.prev=13,t.t1=t.catch(4),n.e(t.t1);case 16:return t.prev=16,n.f(),t.finish(16);case 19:return this.cache=r.sort(),t.abrupt("return",this.cache);case 21:case"end":return t.stop()}}),t,this,[[4,13,16,19]])})),i=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function s(t){se(i,r,o,s,a,"next",t)}function a(t){se(i,r,o,s,a,"throw",t)}s(void 0)}))},function(t){return i.apply(this,arguments)})}],r&&ae(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,de(n.key),n)}}function he(t,e,r){return(e=de(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function de(t){var e=function(t,e){if("object"!==fe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===fe(e)?e:String(e)}var ye=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),he(this,"title","NUnit"),he(this,"loaderIcon","$(loading~spin)"),he(this,"statusBar",void 0),this.statusBar=t.window.createStatusBarItem(t.StatusBarAlignment.Left,100),this.setNoMessage(),this.error(!1),this.statusBar.show()}var n,o;return n=r,o=[{key:"updateTestList",value:function(){this.set("Updating test list...",!0),this.error(!1)}},{key:"set",value:function(t,e){t?this.statusBar.text="".concat(e?this.loaderIcon:""," ").concat(this.title,": ").concat(t).trim():this.setNoMessage()}},{key:"setNoMessage",value:function(){this.statusBar.text=this.title}},{key:"error",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r?(this.statusBar.backgroundColor=new t.ThemeColor("statusBarItem.errorBackground"),this.statusBar.command=e.OpenDiscoveryErrors):(this.statusBar.backgroundColor=void 0,this.statusBar.command="workbench.view.extension.test")}},{key:"dispose",value:function(){this.statusBar.dispose()}}],o&&pe(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),r}();function ve(t){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(t)}function ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,we(n.key),n)}}function be(t,e,r){return(e=we(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function we(t){var e=function(t,e){if("object"!==ve(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ve(e)?e:String(e)}var _e=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),be(this,"testItemsIdMap",new Map),be(this,"testItemsNameMap",new Map),be(this,"fullNameIdMap",new Map),be(this,"idToProjectMap",new Map),be(this,"currentRoot",void 0)}var e,r;return e=t,(r=[{key:"add",value:function(t,e,r){var n;this.testItemsIdMap.set(t.id,t),this.testItemsNameMap.set(e,[].concat(function(t){if(Array.isArray(t))return ge(t)}(n=this.testItemsNameMap.get(e)||[])||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return ge(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])),r&&(this.currentRoot=t.label,this.fullNameIdMap.set(t.id,e)),this.idToProjectMap.set(t.id,this.currentRoot)}}])&&me(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ee(t){return function(t){if(Array.isArray(t))return Se(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Se(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xe(e,r){var n,o=null!==(n=t.workspace.getConfiguration("nunitTestRunner").get("testsCategory"))&&void 0!==n?n:[],i=function(t){var e,n=r.get(t.id);return null===(e=o.find((function(t){return t.projectName===n})))||void 0===e?void 0:e.categories},s=function t(e){if(!function(t){return void 0!==t.parent||void 0!==i(t)}(e))return e;var r=Ee(e.children).map((function(e){return t(e[1])})).filter((function(t){return function(t){var e;return void 0!==(null!==(e=i(t))&&void 0!==e?e:[]).find((function(e){return t.tags.some((function(t){return t.id.startsWith("cat:".concat(e))}))}))}(t)||t.children&&t.children.size>0}));return e.children.replace(r),e};e.items.replace(Ee(e.items).map((function(t){return s(t[1])})))}function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Oe(){Oe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,s=Object.create(i.prototype),a=new A(o||[]);return n(s,"_invoke",{value:_(t,r,a)}),s}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,s,a){var u=l(t[n],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Ae(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return o("throw",t,s,a)}))}a(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===f)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),u(m,a,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Te(t){return function(t){if(Array.isArray(t))return Pe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Pe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pe(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Re(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ce(n.key),n)}}function Le(t,e,r){return(e=Ce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ce(t){var e=function(t,e){if("object"!==Ae(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ae(e)?e:String(e)}var Ne=function(){function e(t,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Le(this,"ctrl",void 0),Le(this,"statusBar",void 0),Le(this,"nunitConsole",void 0),Le(this,"isUpdating",!1),Le(this,"errorCount",0),Le(this,"discoveryErrors",[]),this.ctrl=t,this.statusBar=r,this.nunitConsole=n}var r,n,o,i;return r=e,n=[{key:"isReady",get:function(){return 0==this.isUpdating}},{key:"getDiscoveryErrors",get:function(){return this.discoveryErrors}},{key:"discoverTest",value:(o=Oe().mark((function e(r){var n,o,i,s=this;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.startUpdating(),e.next=3,this.nunitConsole.discoverTests(r);case 3:if(null!=(n=e.sent)){e.next=7;break}return this.cancelUpdating(),e.abrupt("return");case 7:return this.discoveryErrors=[],o=new _e,i=function e(r,n){var i,a,u=r.id,c=r.name,l=r.fullName,f=s.ctrl.createTestItem(u,c);if("NotRunnable"==r.runState){var p;f.tags=[].concat(Te(f.tags),[d.DicsoveryErrorTag]),f.error=null!==(p=r.props._SKIPREASON)&&void 0!==p?p:"Something went wrong";var h=r.props._PROVIDERSTACKTRACE;s.writeDiscoveryError(r.fullName,f.error,h)}else"Ignored"==r.runState||null!=n&&n.tags.includes(d.IgnoredTag)?f.tags=[].concat(Te(f.tags),[d.IgnoredTag]):"Explicit"==r.runState||null!=n&&n.tags.includes(d.ExplicitTag)?f.tags=[].concat(Te(f.tags),[d.ExplicitTag]):"Runnable"==r.runState&&(f.tags=[].concat(Te(f.tags),[d.RunnableTag]));var y=null==n?void 0:n.tags.find((function(t){return t.id.startsWith("cat:")}));return null!=r.props.Category?f.tags=[].concat(Te(f.tags),[new t.TestTag("cat:".concat(r.props.Category))]):null!=(null==y?void 0:y.id)&&(f.tags=[].concat(Te(f.tags),[new t.TestTag(y.id)])),f.sortText="sortText",o.add(f,l,null==n),null==n&&(null!==(i=null===(a=r.children)||void 0===a?void 0:a.length)&&void 0!==i?i:0)>0?e(r.children[0],f):(s.canShrink(r)?(f=e(r.children[0],f)).label=c+"."+f.label:null!=r.children&&f.children.replace(r.children.filter((function(t){return t})).map((function(t){return e(t,f)}))),f)},e.prev=10,this.ctrl.items.replace(n.filter((function(t){return t})).map((function(t){return i(t)}))),xe(this.ctrl,o.idToProjectMap),this.finishUpdating(),e.abrupt("return",o);case 17:e.prev=17,e.t0=e.catch(10),console.log(e.t0);case 20:return e.abrupt("return",{});case 21:case"end":return e.stop()}}),e,this,[[10,17]])})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function s(t){Re(i,r,n,s,a,"next",t)}function a(t){Re(i,r,n,s,a,"throw",t)}s(void 0)}))},function(t){return i.apply(this,arguments)})},{key:"startUpdating",value:function(){this.isUpdating=!0,this.errorCount=0,this.statusBar.updateTestList();var t=this.ctrl.createTestItem("UpdateProjectListItem","Updating test list...");t.busy=!0,this.ctrl.items.replace([t])}},{key:"cancelUpdating",value:function(){this.ctrl.items.replace([this.ctrl.createTestItem("UpdateTestListCancelled","Updating test list is cancelled")]),this.statusBar.setNoMessage(),this.isUpdating=void 0}},{key:"finishUpdating",value:function(){this.errorCount>0&&this.statusBar.error(),this.statusBar.setNoMessage(),this.isUpdating=!1}},{key:"canShrink",value:function(t){var e;return 1==(null===(e=t.children)||void 0===e?void 0:e.length)}},{key:"writeDiscoveryError",value:function(t,e,r){this.discoveryErrors.push(this.generateErrorTitle()),this.discoveryErrors.push(""),this.discoveryErrors.push("FullName: "+t),this.discoveryErrors.push(this.fixLineBreak(e)),r&&this.discoveryErrors.push("StackTrace: "+this.fixLineBreak(r)),this.discoveryErrors.push("")}},{key:"generateErrorTitle",value:function(){var t=Array(50).map((function(t){return t})).join("=");return"".concat(t,"  ").concat((new Date).toLocaleTimeString("ru-RU"),"  ERROR #").concat(++this.errorCount,"  ").concat(t)}},{key:"fixLineBreak",value:function(t){return t.replaceAll("&#xD;&#xA;","\r\n")}}],n&&ke(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function je(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ie(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ie(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function Ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fe(t){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(t)}function Me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$e(n.key),n)}}function De(t,e,r){return(e=$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $e(t){var e=function(t,e){if("object"!==Fe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Fe(e)?e:String(e)}var He=function(){function e(r,n,i){var s=this;for(var a in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),De(this,"fsWatchers",[]),De(this,"isCooldown",!1),De(this,"cooldownTime",3e4),De(this,"debounce",(function(t){return function(e){s.isCooldown||(t.apply(s,[e]),s.isCooldown=!0,setTimeout((function(){return s.isCooldown=!1}),s.cooldownTime))}})),this.cooldownTime=i,n){var u=n[a],c="**",l={};"string"==typeof u&&(c=u||c),"object"===Fe(u)&&(c=void 0!==u.pattern?u.pattern:c,l=void 0!==u.ignores?u.ignores:l);var f,p=je(r);try{for(p.s();!(f=p.n()).done;){var h=f.value,d=o.join(h,a);this.fsWatchers.push(t.workspace.createFileSystemWatcher(new t.RelativePattern(d,c),l.ignoreCreateEvents,l.ignoreChangeEvents,l.ignoreDeleteEvents)),console.log("Path added to nunit fs watcher: '".concat(d,"' with pattern '").concat(c,"' with ignores '").concat(JSON.stringify(Object.entries(l)),"'"))}}catch(t){p.e(t)}finally{p.f()}}}var r,n;return r=e,(n=[{key:"onDidAny",value:function(t){var e=this;this.fsWatchers.forEach((function(r){return e.onDidAnyInternal(r,t)}))}},{key:"onDidAnyInternal",value:function(t,e){var r=this.debounce(e);t.onDidChange(r),t.onDidCreate(r),t.onDidDelete(r)}},{key:"dispose",value:function(){this.fsWatchers.forEach((function(t){return t.dispose()}))}}])&&Me(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}function Ge(t){return function(t){if(Array.isArray(t))return qe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ve(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ve(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function Ve(t,e){if(t){if("string"==typeof t)return qe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(t,e):void 0}}function qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function We(){We=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,s=Object.create(i.prototype),a=new A(o||[]);return n(s,"_invoke",{value:_(t,r,a)}),s}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,s,a){var u=l(t[n],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Be(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return o("throw",t,s,a)}))}a(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===f)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),u(m,a,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Ke(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function Ye(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){Ke(i,n,o,s,a,"next",t)}function a(t){Ke(i,n,o,s,a,"throw",t)}s(void 0)}))}}function Xe(t){return Qe.apply(this,arguments)}function Qe(){return Qe=Ye(We().mark((function r(n){var o,s,a,u,c,l,f,p,h,d,y,v,g,m,b,w,_,E,S,x,A;return We().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.workspace.getConfiguration("nunitTestRunner",null===(o=t.workspace.workspaceFolders)||void 0===o?void 0:o[0]),u=a.get("fsWatcher.patterns",{}),c=a.get("fsWatcher.debounceDelay",3e4),l=a.get("projectsPatterns",[]),f=a.get("discoveryOnStartup",!1),p=(null===(s=t.workspace.workspaceFolders)||void 0===s?void 0:s.map((function(t){return t.uri.fsPath})))||[]){r.next=8;break}return r.abrupt("return");case 8:h=new ye,d=t.window.createOutputChannel("NUnit Runner"),y=t.tests.createTestController("nunit-test-controller","Nunit Tests"),v=new He(p,u,c),g=n.asAbsolutePath(i),m=new le(p,l),b=new Zt(g,m,n.extensionPath),w=new Ne(y,h,b),_=new K(y,h,b,w),y.refreshHandler=function(){var t=Ye(We().mark((function t(e){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.updateAll(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f&&t.commands.executeCommand("testing.refreshTests"),v.onDidAny((function(){return _.updateAll()})),t.workspace.onDidChangeConfiguration((function(t){var e=t.affectsConfiguration("nunitTestRunner.projectsPatterns"),r=t.affectsConfiguration("nunitTestRunner.discoveryOnStartup")&&f;if(e||r){Ze();var o,i=Ue(n.subscriptions);try{for(i.s();!(o=i.n()).done;){var s=o.value;try{s.dispose()}catch(t){console.error(t)}}}catch(t){i.e(t)}finally{i.f()}Xe(n)}})),E=t.commands.registerCommand(e.ExpandAll,Ye(We().mark((function e(){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.getLeavesFromItems(Ge(y.items).map((function(t){return t[1]}))).forEach((function(e){return t.commands.executeCommand("vscode.revealTestInExplorer",e)})),t.commands.executeCommand("vscode.revealTestInExplorer",null===(r=Ge(y.items)[0])||void 0===r?void 0:r[1]);case 3:case"end":return e.stop()}}),e)})))),S=t.commands.registerCommand(e.OpenTestCaseOutput,function(){var t=Ye(We().mark((function t(e){var r;return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:d.replace(null!==(r=_.getTestOutput(e.id))&&void 0!==r?r:""),d.show();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),x=t.commands.registerCommand(e.CleanTestCaseOutput,(function(){d.clear()})),A=t.commands.registerCommand(e.OpenDiscoveryErrors,(function(){d.clear(),w.getDiscoveryErrors.forEach(d.appendLine),d.show()})),n.subscriptions.push(h),n.subscriptions.push(d),n.subscriptions.push(y),n.subscriptions.push(v),n.subscriptions.push(E),n.subscriptions.push(S),n.subscriptions.push(x),n.subscriptions.push(A);case 33:case"end":return r.stop()}}),r)}))),Qe.apply(this,arguments)}function Ze(){return ze.apply(this,arguments)}function ze(){return(ze=Ye(We().mark((function t(){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At.onExit.emit();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}})(),exports.activate=n.activate,exports.deactivate=n.deactivate,Object.defineProperty(exports,"__esModule",{value:!0})})();